<view class="filecach" style="{{'min-height:'+(windowHeight+'px')+';'}}"><block wx:if="{{taskList.length}}"><view class="filecach__list"><block wx:for="{{$root.l0}}" wx:for-item="site" wx:for-index="s" wx:key="s"><view data-event-opts="{{[['tap',[['select',['$0'],[[['taskList','',s,'periodid']]]]]]]}}" class="filecach__task" bindtap="__e"><block wx:if="{{deletes}}"><view class="filecach__circle"><block wx:if="{{site.g0!=-1}}"><image src="{{baseUrl+'/static/images/common/active.png'}}"></image></block></view></block><view class="filecach__period"><view class="filecach__period-title">{{s+1+". "+site.$orig.periodname}}</view><block wx:if="{{site.$orig.state!=4}}"><view calss="filecach__period-progress"><progress border-radius="3" percent="{{site.$orig.percent}}" stroke-width="3" active-color="#2987EE"></progress><view class="filecach__period-text"><text>{{site.$orig.downloadedSize+"M/"+site.$orig.totalSize+"M"}}</text></view></view></block></view><block wx:if="{{!deletes}}"><view class="filecach__button"><block wx:if="{{site.$orig.state==5}}"><button data-event-opts="{{[['tap',[['resume',['$0'],[[['taskList','',s,'periodid']]]]]]]}}" bindtap="__e">继续</button></block><block wx:else><block wx:if="{{site.$orig.state==4}}"><button data-event-opts="{{[['tap',[['play',['$0'],[[['taskList','',s]]]]]]]}}" bindtap="__e">播放</button></block><block wx:else><button data-event-opts="{{[['tap',[['pause',['$0'],[[['taskList','',s,'periodid']]]]]]]}}" bindtap="__e">暂停</button></block></block></view></block></view></block></view></block><block wx:else><ks-empty vue-id="1" bind:__l="__l" vue-slots="{{['default']}}">暂无缓存记录</ks-empty></block><block wx:if="{{deletes}}"><view class="filecach__footer"><view data-event-opts="{{[['tap',[['allSelect']]]]}}" class="filecach__footer-item" bindtap="__e">{{all?'取消全选':'全选'}}</view><view data-event-opts="{{[['tap',[['deletesTask']]]]}}" class="filecach__footer-item filecach__footer-item--del" bindtap="__e">删除</view></view></block><block wx:else><block wx:if="{{status>0}}"><view class="filecach__footer"><view data-event-opts="{{[['tap',[['allStateChange',['$event']]]]]}}" class="filecach__footer-item" bindtap="__e">{{status==1?'全部开始':'全部暂停'}}</view></view></block></block></view>