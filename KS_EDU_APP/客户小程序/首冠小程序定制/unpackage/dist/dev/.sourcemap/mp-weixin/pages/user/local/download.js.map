{"version":3,"sources":["webpack:///J:/kesionEDU_APP/KS_EDU_APP/main.js","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?e6bd","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?cdfb","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?9c2f","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?53e7","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?334e","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue?a314"],"names":["createPage","Page","data","courseId","list","showkeshi","courseName","activeList","state","all","noFinishList","onNavigationBarButtonTap","uni","navigateTo","url","methods","open","console","log","allSelect","length","i","push","periodid","getList","courseid","then","res","CourseName","SERVER_TIME","timespan","lists","Course","periodlist","specialPermission","buyallcos_isCanLearn","myPeriodids","Pay","isloginplay","ispower","map","item","isfree","isCanLearn","islistening","isbuyallcos","p","period_item","id","shixian","enddate","filter","addtype","isfinish","getJsonTxt","select","indexOf","plus","io","resolveLocalFileSystemURL","userId","entry","reader","FileReader","readAsText","onload","e","jsonList","JSON","parse","target","result","courseids","finishList","taskList","site","stringify","message","plusReady","ready","setTimeout","onShow","onLoad","query","$store"],"mappings":"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","file":"pages/user/local/download.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user/local/download.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./download.vue?vue&type=template&id=44420a0b&scoped=true&\"\nimport script from \"./download.vue?vue&type=script&lang=js&\"\nexport * from \"./download.vue?vue&type=script&lang=js&\"\nimport style0 from \"./download.vue?vue&type=style&index=0&id=44420a0b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44420a0b\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"J:\\\\软件\\\\HBuilderX.1.9.4.20190426\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('44420a0b', component.options)\n    } else {\n      api.reload('44420a0b', component.options)\n    }\n    module.hot.accept(\"./download.vue?vue&type=template&id=44420a0b&scoped=true&\", function () {\n      api.rerender('44420a0b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"kesionEDU_APP/KS_EDU_APP/pages/user/local/download.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=template&id=44420a0b&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.list, function(item, i) {\n    var g0 = _vm.activeList.indexOf(item.periodid)\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showkeshi = _vm.showkeshi ? false : true\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {GetcosInfo} from 'api/course'\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\tcourseId:'',\n\t\t\tlist:[],\n\t\t\tshowkeshi:true,\n\t\t\tcourseName:'',\n\t\t\tactiveList:[],\n\t\t\tstate:{},\n\t\t\tall:false,\n\t\t\t//未缓存过的课时列表\n\t\t\tnoFinishList:[]\n\t\t}\n\t},\n\t/*导航栏方法*/\n\tonNavigationBarButtonTap(){\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/user/local/index?courseid=${this.courseId}&title=${this.courseName}`\n\t\t})\n\t},\n\tmethods:{\n\t\topen(){\n\t\t\tconsole.log(this.activeList)\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/user/local/index?courseid=${this.courseId}&periodids=${this.activeList}&title=${this.courseName}`\n\t\t\t})\n\t\t},\n\t\tallSelect(){\n\t\t\tif(this.noFinishList.length>0){\n\t\t\t\tthis.all = !this.all\n\t\t\t\tif(this.all){\n\t\t\t\t\tfor(var i=0;i<this.list.length;i++){\n\t\t\t\t\t\t//state,0没下载过，5下载暂停，4下载完成\n\t\t\t\t\t\tif(this.list[i].state == 0){\n\t\t\t\t\t\t\tthis.activeList.push(this.list[i].periodid);\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.activeList = []\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetList(){\n\t\t\tGetcosInfo({\n\t\t\t\tcourseid:this.courseId\n\t\t\t}).then(res=>{\n\t\t\t\tthis.courseName = res.CourseName\n\t\t\t\tvar SERVER_TIME = res.timespan; //服务器时间\n\t\t\t\tvar lists = res.Course.periodlist\n\t\t\t\t /**课程购买情况*/\n\t\t\t\tvar specialPermission = false;\n\t\t\t\tvar buyallcos_isCanLearn = false;\n\t\t\t\tvar myPeriodids = [];\n\t\t\t\tvar Pay = res.Pay;\n\t\t\t\tvar isloginplay = res.isloginplay;\n\t\t\t\tvar ispower = res.ispower;           \n\t\t\t\t/**\n\t\t\t\t    * isCanLearn\n\t\t\t\t    * 0 不可观看\n\t\t\t\t    * 1 可观看\n\t\t\t\t    * 2 已过期\n\t\t\t\t    * 3 可试听\n\t\t\t\t*/\n\t\t\t   \n\t\t\t\t\n\t\t\t\tlists.map(item=>{\n\t\t\t\t\tif (specialPermission || item.isfree == 0 || buyallcos_isCanLearn) {\n\t\t\t\t\t    /**该课时免费*/\n\t\t\t\t\t    item.isCanLearn = 1\n\t\t\t\t\t} else if (item.islistening == 1) {\n\t\t\t\t\t    item.isCanLearn = 3\n\t\t\t\t\t} else if (Pay) {\n\t\t\t\t\t    if (Pay.isbuyallcos == 1 && buyallcos_isCanLearn) {\n\t\t\t\t\t        /**\n\t\t\t\t\t         * 购买了整个课程，并且课程未到期\n\t\t\t\t\t         */\n\t\t\t\t\t       item.isCanLearn = 1;\n\t\t\t\t\t    } else {\n\t\t\t\t\t        /**\n\t\t\t\t\t         * 按课时购买\n\t\t\t\t\t         * 遍历当前课时是否存在购买队列，并且课时未到期\n\t\t\t\t\t         */\n\t\t\t\t\t        for (var p = 0; p < myPeriodids.length; p++) {\n\t\t\t\t\t            var period_item = myPeriodids[p];\n\t\t\t\t\t            if (period_item.id == item.periodid) {\n\t\t\t\t\t                if (period_item.shixian == 0) {\n\t\t\t\t\t                    item.isCanLearn = 1;\n\t\t\t\t\t                    break\n\t\t\t\t\t                } else {\n\t\t\t\t\t                    if (period_item.enddate > SERVER_TIME) {\n\t\t\t\t\t                        /**课时未到期，已满足学习条件，直接跳出循环*/\n\t\t\t\t\t                        item.isCanLearn = 1;\n\t\t\t\t\t                        break\n\t\t\t\t\t                    } else {\n\t\t\t\t\t                        /**\n\t\t\t\t\t                         * 当前课时已过期，但不跳出循环，继续查找是否有重复购买同课时并且满足学习条件\n\t\t\t\t\t                         */\n\t\t\t\t\t                        if (period_item.islistening == 1) {\n\t\t\t\t\t                            item.isCanLearn = 3\n\t\t\t\t\t                        } else {\n\t\t\t\t\t                            item.isCanLearn = 2\n\t\t\t\t\t                        }\n\t\t\t\t\t                    }\n\t\t\t\t\t                }\n\t\t\t\t\t            }\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t\t}\t\t\t\t\t\t\t   \n\t\t\t\t})                    \n\t\t\t\t                        \n\t\t\t\t                        \n\t\t\t\tthis.list = lists.filter(item=>{\n\t\t\t\t\tconsole.log(item.isCanLearn)\n\t\t\t\t\tif(item.isCanLearn == 1){\n\t\t\t\t\t\tif (item.addtype == 1 || item.addtype == 4) {\n\t\t\t\t\t\t\titem.isfinish = false\n\t\t\t\t\t\t\titem.state = 0\n\t\t\t\t\t\t    return item;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tthis.getJsonTxt()\n\t\t\t})\n\t\t},\n\t\tselect(id){\n\t\t\tif(this.activeList.indexOf(id)==-1){\n\t\t\t\tthis.activeList.push(id)\n\t\t\t}else{\n\t\t\t\tthis.activeList = this.activeList.filter(item=>{\n\t\t\t\t\tif (item != id) {\n\t\t\t\t\t    return item;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.all = this.noFinishList.length == this.activeList.length?true:false\n\t\t\tconsole.log(this.activeList,this.activeList.length)\n\t\t},\n\t\tgetJsonTxt(){\n\t\t\t//获取之前存储的txt数据,\n\t\t\n\t\t\tplus.io.resolveLocalFileSystemURL(`_doc/cache/${this.state.userId}.txt`, (entry)=> {\n\t\t\t\tlet reader = new plus.io.FileReader();\n\t\t\t\treader.readAsText(entry);\n\t\t\t\treader.onload = (e)=> {\n\t\t\t\t\tvar jsonList = JSON.parse(e.target.result)\n\t\t\t\t\tvar courseids = []\n\t\t\t\t\tcourseids = jsonList.map(item=>{\n\t\t\t\t\t\treturn item.courseid\n\t\t\t\t\t})\n\t\t\t\t\tvar i = courseids.indexOf(this.courseId)\n\t\t\t\t\tvar finishList = []\n\t\t\t\t\tif(i!=-1){\n\t\t\t\t\t\tfinishList = jsonList[i].taskList \n\t\t\t\t\t}\n\t\t\t\t\tthis.list.map(item=>{\n\t\t\t\t\t\tfinishList.map(site=>{\n\t\t\t\t\t\t\tif(item.periodid == site.periodid){\n\t\t\t\t\t\t\t\titem.isfinish = true\n\t\t\t\t\t\t\t\titem.state = site.state\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\t\n\t\t\t\t\t})\t\n\t\t\t\t\tconsole.log(JSON.stringify(this.list))\n\t\t\t\t\tthis.noFinishList = this.list.filter(item=>{\n\t\t\t\t\t\tconsole.log(item.state)\n\t\t\t\t\t\tif(item.state == 0){\n\t\t\t\t\t\t\treturn item\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}, (e)=> {\n\t\t\t\tthis.noFinishList = this.list\n\t\t\t\tconsole.log(e.message)\n\t\t\t})\t\n\t\t},\n\t\tplusReady(){\n\t\t\tthis.getList()\t\t\n\t\t},\n\t\tready(){\n\t\t\t//plus加载后在执行plus方法\t\n\t\t\tif(plus){\n\t\t\t\tthis.plusReady(); \n\t\t\t}else{\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t    this.ready()\n\t\t\t\t}, 100)\n\t\t\t}\n\t\t}\n\t},\n\tonShow(){\n\t\tthis.activeList = []\n\t\tthis.ready()\n\t},\n\tonLoad(query){\n\t\tconsole.log(query)\n\t\tthis.$store.ready(state=>{\n\t\t\tthis.state = state\n\t\t\tthis.courseId = query.courseid\n\t\t\t\n\t\t})\n\t\t\n\t}\n}\n","import mod from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=style&index=0&id=44420a0b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=style&index=0&id=44420a0b&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}