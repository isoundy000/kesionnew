{"version":3,"sources":["webpack:///J:/kesionEDU_APP/KS_EDU_APP/main.js","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?b764","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?1077","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?b3a8","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?7a06","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?29f9","webpack:///J:/kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue?8193"],"names":["createPage","Page","data","deletes","JSONList","activeList","url","query","state","newTaskData","src","show","watch","handler","list","deep","immediate","onNavigationBarButtonTap","rightBtn","methods","webView","$mp","page","$getAppWebview","setTitleNViewButtonStyle","text","showkeshi","item","$set","openPlayer","console","log","task","filename","path","plus","io","convertLocalFileSystemURL","uni","navigateTo","videoErrorCallback","e","showToast","icon","title","target","errMsg","deletesTask","length","showModal","content","success","res","confirm","map","str","split","courseid","periodid","resolveLocalFileSystemURL","userId","entry","removeRecursively","$store","site","s","taskList","filter","i","writeFileJson","message","cancel","select","id","indexOf","push","taskLengthList","all","allSelect","allStart","status","downloader","enumerate","tasks","urls","tk","download1","addEventListener","download","totalSize","toFixed","downloadedSize","percent","Math","floor","resume","allPause","pause","resumes","courseId","citem","pauses","requestFileSystem","PRIVATE_DOC","root","getFile","create","fileEntry","Path","toURL","createWriter","suc","write","JSON","stringify","getJsonTxt","reader","FileReader","readAsText","onload","parse","result","periodids","newTask","wacthDtask","timer","setInterval","clearInterval","then","courseids","obj","coursename","unshift","concat","periodidList","imageUrl","taskImage","createDownload","d","start","taskStart","onStateChanged","startDownload","ready","setTimeout","onLoad","getSystemInfo","platform","setNavigationBarTitle"],"mappings":"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","file":"pages/user/local/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user/local/index.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0de0ef5f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0de0ef5f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0de0ef5f\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"J:\\\\软件\\\\HBuilderX.1.9.4.20190426\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0de0ef5f', component.options)\n    } else {\n      api.reload('0de0ef5f', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=0de0ef5f&scoped=true&\", function () {\n      api.rerender('0de0ef5f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"kesionEDU_APP/KS_EDU_APP/pages/user/local/index.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0de0ef5f&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.JSONList, function(item, i) {\n    var l0 = _vm.__map(item.taskList, function(site, s) {\n      var g0 = _vm.activeList.indexOf(item.courseid + \"_\" + site.periodid)\n      return {\n        $orig: _vm.__get_orig(site),\n        g0: g0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(item),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {DownLoadCourse} from 'api/down'\nexport default{\n\tdata(){\n\t\treturn {\n\t\t\tdeletes:false,\n\t\t\t//下载任务列表\n\t\t\tJSONList:[],\n\t\t\tactiveList:[],\n\t\t\turl:'',\n\t\t\tquery:{},\n\t\t\tstate:{},\n\t\t\t//最新缓存任务数据\n\t\t\tnewTaskData:{},\n\t\t\t//播放src\n\t\t\tsrc:'',\n\t\t\n\t\t\tshow:false,\n\t\t\t//选中数组\n\t\t\tactiveList:[],\n\t\t\tall:false,\n\t\t\t//客户端平台，值域为：ios、android \n\t\t\tplatform:'',\n\t\t\t//0表示没有任务不显示，1表示正在下载中，2表示下载任务暂停\n\t\t\tstatus:0\n\t\t}\n\t},\n\twatch:{\n\t\t\"$store.state.JSONList\":{\n\t\t\thandler(list){\n\t\t\t\tthis.JSONList = list\n\t\t\t},\n\t\t\tdeep:true,\n\t\t\timmediate:true\n\t\t}\n\t\t\n\t},\n\t/*导航栏方法*/\n\tonNavigationBarButtonTap(){\n\t\tthis.rightBtn()\n\t},\n\tmethods:{\n\t\trightBtn(){\n\t\t\tif(!this.deletes){\n\t\t\t\tthis.deletes = true\n\t\t\t\tvar webView = this.$mp.page.$getAppWebview();  \n\t\t\t\t// 修改buttons  \n\t\t\t\t// index: 按钮索引, style {WebviewTitleNViewButtonStyles }  \n\t\t\t\twebView.setTitleNViewButtonStyle(0, {  \n\t\t\t\t    text: '完成',  \n\t\t\t\t}); \n\t\t\t}else{\n\t\t\t\tthis.deletes = false\n\t\t\t\tvar webView = this.$mp.page.$getAppWebview();  \n\t\t\t\t\n\t\t\t\t// 修改buttons  \n\t\t\t\t// index: 按钮索引, style {WebviewTitleNViewButtonStyles }  \n\t\t\t\twebView.setTitleNViewButtonStyle(0, {  \n\t\t\t\t    text: '管理',  \n\t\t\t\t}); \n\t\t\t}\t\n\t\t},\n\t\tshowkeshi(item){\n\t\t\titem.showkeshi = !item.showkeshi\n\t\t\tthis.$set(item,'showkeshi',item.showkeshi)\n\t\t},\n\t\n\t\topenPlayer(item){\n\t\t\tconsole.log(item.task.filename)\n\t\t\tvar path=plus.io.convertLocalFileSystemURL(item.task.filename);//相对路径转成绝对路径\n\t\t\tconsole.log(path)\n\t\t\tthis.src = 'file://'+path//删除第一个字符/\n\t\t\t// this.show = true\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/user/local/player?src=${this.src}`\n\t\t\t});\n\t\t},\n\t\tvideoErrorCallback(e) {\n\t\t\tconsole.log(e)\n\t\t\tuni.showToast({\n\t\t\t\ticon:'none',\n\t\t\t\ttitle:e.target.errMsg\n\t\t\t})\n\t\t},\n\t\tdeletesTask(){\n\t\t\tif(this.activeList.length>0){\n\t\t\t\tuni.showModal({\n\t\t\t\t\t title: '删除所选内容',\n\t\t\t\t\t    content: '确定删除所选内容吗?',\n\t\t\t\t\t    success:  (res)=> {\n\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t            this.activeList.map(item=>{\n\t\t\t\t\t\t\t\t\tvar str = item.split(\"_\")\n\t\t\t\t\t            \tvar courseid = str[0]\n\t\t\t\t\t\t\t\t\tvar periodid = str[1]\n\t\t\t\t\t            \tplus.io.resolveLocalFileSystemURL(`_doc/video/${this.state.userId}/${courseid}/${periodid}/`, (entry)=> {\n\t\t\t\t\t           \n\t\t\t\t\t            \t\tentry.removeRecursively(res=>{\n\t\t\t\t\t            \t\t\tconsole.log(\"删除成功\" );\n\t\t\t\t\t\t\t\t\t\t\tthis.rightBtn()\n\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.JSONList.map((site,s)=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(site.courseid == courseid){\n\t\t\t\t\t\t\t\t\t\t\t\t\tsite.taskList = site.taskList.filter((task,i)=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(task.periodid != periodid){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn task\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(site,'taskList',site.taskList)\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.JSONList,s,site)\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tthis.$store.state.JSONList = this.$store.state.JSONList.filter((item,i)=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(item.taskList.length>0){\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn item\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tthis.writeFileJson()\n\t\t\t\t\t            \t\t},(e)=>{\n\t\t\t\t\t            \t\t\tconsole.log( e.message );\n\t\t\t\t\t            \t\t} );\n\t\t\t\t\t            \t}, (e)=> {\n\t\t\t\t\t            \t\tconsole.log(e.message)\n\t\t\t\t\t            \t})\t\t\n\t\t\t\t\t            })\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t        } else if (res.cancel) {\n\t\t\t\t\t            console.log('用户点击取消');\n\t\t\t\t\t        }\n\t\t\t\t\t    }\n\t\t\t\t});\n\t\t\t}\t\n\t\t},\n\t\tselect(courseid,periodid){\n\t\t\tvar id = `${courseid}_${periodid}`\n\t\t\tif(this.activeList.indexOf(id)==-1){\n\t\t\t\tthis.activeList.push(id)\n\t\t\t}else{\n\t\t\t\tthis.activeList = this.activeList.filter(item=>{\n\t\t\t\t\tif (item != id) {\n\t\t\t\t\t    return item;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tvar taskLengthList = []\n\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\titem.taskList.map(site=>{\n\t\t\t\t\ttaskLengthList.push(`${item.courseid}_${site.periodid}`)\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.all = taskLengthList.length == this.activeList.length?true:false\n\t\t\tconsole.log(this.activeList)\n\t\t},\n\t\tallSelect(){\n\t\t\t\n\t\t\t\tthis.all = !this.all\n\t\t\t\tif(this.all){\n\t\t\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\titem.taskList.map(site=>{\n\t\t\t\t\t\t\tthis.activeList.push(`${item.courseid}_${site.periodid}`)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.activeList = []\n\t\t\t\t}\n\t\t\t\tconsole.log(this.activeList)\n\t\t},\n\t\t//全部开始\n\t\tallStart(){\n\t\t\tthis.status = 1\n\t\t\tconsole.log(999)\n\t\t\t//枚举下载任务，默认枚举未完成的任务\n\t\t\tplus.downloader.enumerate((tasks)=>{\n\t\t\t\tif(tasks.length>0){\n\t\t\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.query.courseid ==item.courseid){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar urls = item.taskList.map(tk=>{\n\t\t\t\t\t\t\t\treturn tk.download1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\ttasks.map(task=>{\n\t\t\t\t\t\t\t\tvar i = urls.indexOf(task.url)\n\t\t\t\t\t\t\t\tif(i>-1){\n\t\t\t\t\t\t\t\t\titem.taskList[i].task.addEventListener(\"statechanged\", (download, status)=>{\n\t\t\t\t\t\t\t\t\t\titem.taskList[i].state = download.state\n\t\t\t\t\t\t\t\t\t\titem.taskList[i].totalSize = (download.totalSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\t\titem.taskList[i].downloadedSize = (download.downloadedSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\t\titem.taskList[i].percent = Math.floor((download.downloadedSize/download.totalSize)*100)\t\n\t\t\t\t\t\t\t\t\t\tif(download.state==4&&status==200){\n\t\t\t\t\t\t\t\t\t\t\t//向接口发送缓存成功\n\t\t\t\t\t\t\t\t\t\t\t//把全部下载任务的信息以json格式写入userid.txt文件\n\t\t\t\t\t\t\t\t\t\t\tthis.writeFileJson()\n\t\t\t\t\t\t\t\t\t\t}\t\t\n\t\t\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t\t\t\titem.taskList[i].task.resume()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//全部暂停\n\t\tallPause(){\n\t\t\t\n\t\t\t//枚举下载任务，默认枚举未完成的任务\n\t\t\tplus.downloader.enumerate((tasks)=>{\n\t\t\t\tif(tasks.length>0){\n\t\t\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.query.courseid ==item.courseid){\n\t\t\t\t\t\t\tvar urls = item.taskList.map(tk=>{\n\t\t\t\t\t\t\t\treturn tk.download1\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t\t\ttasks = tasks.filter(task=>{\n\t\t\t\t\t\t\t\tif(urls.indexOf(task.url)>-1){\n\t\t\t\t\t\t\t\t\treturn task\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\ttasks.map(item=>{\n\t\t\t\t\t\t\t\titem.pause()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.status = 2\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tresumes(courseId,item){\n\t\t\t\n\t\t\tthis.$store.state.JSONList.map(citem=>{\n\t\t\t\n\t\t\t\tif(citem.courseid == courseId){\n\t\t\t\t\tcitem.taskList.map(tk=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(tk.periodid == item.periodid){\n\t\t\t\t\t\t\tconsole.log(tk.task.resume)\n\t\t\t\t\t\t\ttk.task.addEventListener(\"statechanged\", (download, status)=>{\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttk.state = download.state\n\t\t\t\t\t\t\t\t\ttk.totalSize = (download.totalSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\ttk.downloadedSize = (download.downloadedSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\ttk.percent = Math.floor((download.downloadedSize/download.totalSize)*100)\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(download.state==4&&status==200){\n\t\t\t\t\t\t\t\t\t\t//向接口发送缓存成功\n\t\t\t\t\t\t\t\t\t\t//把全部下载任务的信息以json格式写入userid.txt文件\n\t\t\t\t\t\t\t\t\t\tthis.writeFileJson()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t\ttk.task.resume()\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tpauses(courseId,item){\n\t\t\t\n\t\t\tthis.$store.state.JSONList.map(citem=>{\n\t\t\t\t\n\t\t\t\tif(citem.courseid == courseId){\n\t\t\t\t\tcitem.taskList.map(tk=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(tk.periodid == item.periodid){\n\t\t\t\t\t\t\tconsole.log(tk.task.pause)\t\n\t\t\t\t\t\t\ttk.task.pause()\n\t\t\t\t\t\t\tthis.writeFileJson()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t},\n\t\t//将json写入文件\n\t\twriteFileJson() {\n\t\t\t\n\t\t\tplus.io.requestFileSystem(plus.io.PRIVATE_DOC, (success)=> {\n\t\t\t\tsuccess.root.getFile(`cache/${this.state.userId}.txt`, {       //查找用户id这个文件，有就打开，没有就创建一个 \n\t\t\t\t\tcreate: true\n\t\t\t\t}, (fileEntry)=> {\n\t\t\t\t\tvar Path = fileEntry.toURL(); //获取当前文件的路径\n\t\t\t\t\tfileEntry.createWriter((suc)=> {\n\t\t\t\t\t\tsuc.write(JSON.stringify(this.$store.state.JSONList))\n\t\t\t\t\t\tconsole.log('写入成功')\n\t\t\t\t\t}, (e)=> {\n\t\t\t\t\t\tconsole.log('写入失败,' + e.message) \n\t\t\t\t\t})\t\t\t\t\n\t\t\t\t})\n\t\t\t}, (e)=> {\n\t\t\t\tconsole.log('我是调用失败的回调')   //失败的回调\n\t\t\t})\n\t\t},\t\n\t\tgetJsonTxt(){\n\t\t\t\n\t\t\t//获取之前存储的txt数据，初始化页面\n\t\t\t\n\t\t\t\t\n\t\t\tplus.io.resolveLocalFileSystemURL(`_doc/cache/${this.state.userId}.txt`, (entry)=> {\n\t\t\t\tlet reader = new plus.io.FileReader();\n\t\t\t\treader.readAsText(entry);\n\t\t\t\treader.onload = (e)=> {\n\t\t\t\t\tconsole.log(this.$store.state.JSONList.length,222)\n\t\t\t\t\t//没有销毁则不添加json数据\n\t\t\t\t\tif(this.$store.state.JSONList.length==0){\n\t\t\t\t\t\tthis.$store.state.JSONList = JSON.parse(e.target.result)\t\n\t\t\t\t\t}\n\t\t\t\t\t//没下载完的任务继续设置下载任务\n\t\t\t\t\tplus.downloader.enumerate((tasks)=>{\n\t\t\t\t\t\tconsole.log(tasks.length)\n\t\t\t\t\t\t\tif(tasks.length>0){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar urls = tasks.map(item=>{\n\t\t\t\t\t\t\t\t\treturn item.url\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(this.query.courseid ==item.courseid){\n\t\t\t\t\t\t\t\t\t\titem.taskList.map(tk=>{\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(tk.download1)\n\t\t\t\t\t\t\t\t\t\t\tif(urls.indexOf(tk.download1)>-1){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.status = 2\n\t\t\t\t\t\t\t\t\t\t\t\ttk.task = tasks[urls.indexOf(tk.download1)]\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(this.query.periodids){\n\t\t\t\t\t\tthis.newTask()\n\t\t\t\t\t}\t\n\t\t\t\t}\n\t\t\t}, (e)=> {\n\t\t\t\tif(this.query.periodids){\n\t\t\t\t\tthis.newTask()\n\t\t\t\t}\n\t\t\t\tconsole.log(e.message)\n\t\t\t})\t\n\t\t},\n\t\t//监听本课程内是否还有没下载完的任务\n\t\twacthDtask(){\n\t\t\tvar timer = setInterval(()=>{\n\t\t\t\t//枚举下载任务，默认枚举未完成的任务\n\t\t\t\tplus.downloader.enumerate((tasks)=>{\n\t\t\t\t\tif(tasks.length>0){\n\t\t\t\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.query.courseid ==item.courseid){\n\t\t\t\t\t\t\t\tvar urls = item.taskList.map(tk=>{\n\t\t\t\t\t\t\t\t\treturn tk.download1\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar list = tasks.filter(task=>{\n\t\t\t\t\t\t\t\t\tif(urls.indexOf(task.url)>-1){\n\t\t\t\t\t\t\t\t\t\treturn task\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tif(list.length==0){\n\t\t\t\t\t\t\t\t\tthis.status = 0\n\t\t\t\t\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.status = 0\n\t\t\t\t\t\tclearInterval(timer)\n\t\t\t\t\t}\t\n\t\t\t\t});\n\t\t\t},1000)\n\t\t},\n\t\t//新建下载任务\n\t\tnewTask(){\n\t\t\t//新建下载任务时执行\n\t\t\n\t\t\t\tDownLoadCourse({\n\t\t\t\t\tcourseid:this.query.courseid,\n\t\t\t\t\tperiodids:[this.query.periodids]\n\t\t\t\t}).then(res=>{\n\t\t\t\t\n\t\t\t\t\t\tres.showkeshi = true\n\t\t\t\t\t\tvar courseids = []\n\t\t\t\t\t\tcourseids = this.$store.state.JSONList.map(item=>{\n\t\t\t\t\t\t\treturn item.courseid\n\t\t\t\t\t\t})\n\t\t\t\t\t\tvar i = courseids.indexOf(res.courseid)\n\t\t\t\t\t\n\t\t\t\t\t\tif(i==-1){\n\t\t\t\t\t\t\tvar obj = {}\n\t\t\t\t\t\t\tobj.courseid = res.courseid\n\t\t\t\t\t\t\tobj.coursename = res.coursename\n\t\t\t\t\t\t\tobj.taskList = res.data\n\t\t\t\t\t\t\tobj.showkeshi = res.showkeshi\n\t\t\t\t\t\t\tthis.$store.state.JSONList.unshift(obj)\n\t\t\t\t\t\t\ti = 0\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$store.state.JSONList[i].taskList = res.data.concat(this.$store.state.JSONList[i].taskList)\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar periodidList = res.data.map(item=>{\n\t\t\t\t\t\t\treturn item.periodid\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!this.$store.state.JSONList[i].imageUrl){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//下载课程图片\n\t\t\t\t\t\t\tvar taskImage = plus.downloader.createDownload('http://192.168.1.2:70/UploadFiles/2019/112/D132200028367716.jpg', {\n\t\t\t\t\t\t\t\t\tfilename: `_doc/video/${this.state.userId}/${this.query.courseid}/${this.query.courseid}.jpg`\n\t\t\t\t\t\t\t\t}, (d, status)=>{\n\t\t\t\t\t\t\t\t\t// 下载完成回调\t\n\t\t\t\t\t\t\t\t\tif(status == 200){ \t\n\t\t\t\t\t\t\t\t\t\tconsole.log('下载成功');\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tthis.$store.state.JSONList[i].imageUrl ='file://'+plus.io.convertLocalFileSystemURL(`_doc/video/${this.state.userId}/${this.query.courseid}/${this.query.courseid}.jpg`)//相对路径转成绝对路径\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t console.log('下载失败'); \n\t\t\t\t\t\t\t\t\t}  \t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ttaskImage.start()\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tthis.$store.state.JSONList[i].taskList.map(item=>{\n\t\t\t\t\t\tconsole.log(item.download1)\n\t\t\t\t\t\tif(periodidList.indexOf(item.periodid)!=-1){\n\t\t\t\t\t\t\titem.state = 0\n\t\t\t\t\t\t\titem.totalSize = 0\n\t\t\t\t\t\t\titem.downloadedSize = 0\n\t\t\t\t\t\t\titem.percent = 0\n\t\t\t\t\t\t\titem.id = 0\n\t\t\t\t\t\t\tlet id = item.periodid\n\t\t\t\t\t\t\t//轮循创建下载任务\n\t\t\t\t\t\t\tlet task = plus.downloader.createDownload(item.download1, {\n\t\t\t\t\t\t\t\tfilename: `_doc/video/${this.state.userId}/${this.query.courseid}/${item.periodid}/${item.periodid}.mp4`\n\t\t\t\t\t\t\t}, (d, status)=>{\n\t\t\t\t\t\t\t\t// 下载完成回调\t\n\t\t\t\t\t\t\t\tif(status == 200){ \t\n\t\t\t\t\t\t\t\t\tconsole.log('下载成功');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t console.log('下载失败'); \n\t\t\t\t\t\t\t\t}  \t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//添加监听事件\n\t\t\t\t\t\t\ttask.addEventListener(\"statechanged\", (download, status)=>{\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(item.download1==download.url){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\titem.state = download.state\n\t\t\t\t\t\t\t\t\titem.totalSize = (download.totalSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\titem.downloadedSize = (download.downloadedSize/1000000).toFixed(1)\n\t\t\t\t\t\t\t\t\titem.percent = Math.floor((download.downloadedSize/download.totalSize)*100)\t\n\t\t\t\t\t\t\t\t\tthis.$set(item,'state',item.state)\n\t\t\t\t\t\t\t\t\tthis.$set(item,'totalSize',item.totalSize)\n\t\t\t\t\t\t\t\t\tthis.$set(item,'downloadedSize',item.downloadedSize)\n\t\t\t\t\t\t\t\t\tthis.$set(item,'percent',item.percent)\n\t\t\t\t\t\t\t\t\tthis.$set(this.$store.state.JSONList[i].taskList,periodidList.indexOf(item.periodid),item)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif(download.state==4&&status==200){\n\t\t\t\t\t\t\t\t\t\t//向接口发送缓存成功\n\t\t\t\t\t\t\t\t\t\t//把全部下载任务的信息以json格式写入userid.txt文件\n\t\t\t\t\t\t\t\t\t\tthis.writeFileJson()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\n\t\t\t\t\t\t\t//开始下载\n\t\t\t\t\t\t\ttask.start()\n\t\t\t\t\t\t\tthis.status = 1\n\t\t\t\t\t\t\t//监听是否还有没下载完的任务\n\t\t\t\t\t\t\tthis.wacthDtask()\n\t\t\t\t\t\t\titem.task = task\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t},\n\t\t//开始下载\n\t\ttaskStart(){\n\t\t\t\n\t\t},\n\t\t//监控下载进度\n\t\tonStateChanged(download, status){\n\t\t\tconsole.log(download.state)\n\t\t},\n\t\t/**\n\t\t * 开始下载\n\t\t */\n\t\tstartDownload(){\n\t\t\tthis.$store.state.JSONList.map(item=>{\n\t\t\t\titem.task.start()\n\t\t\t})\n\t\t},\n\t\tready(){\n\t\t\t//plus加载后在执行plus方法\t\n\t\t\tif(plus){\n\t\t\t\tthis.getJsonTxt(); \n\t\t\t}else{\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t    this.ready()\n\t\t\t\t}, 100)\n\t\t\t}\n\t\t}\n\t},\n\tonLoad(query) {\n\t\tuni.getSystemInfo({\n\t\t    success:  (res)=> {\n\t\t       this.platform = res.platform\n\t\t        \n\t\t    }\n\t\t});\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: query.title\n\t\t});\n\t\t\n\t\tthis.query = query\n\t\tthis.$store.ready(state=>{\n\t\t\tthis.state = state\n\t\t\tthis.ready()\t\n\t\t})\t\n\t}\n}\n","import mod from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0de0ef5f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.1.9.4.20190426/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=0de0ef5f&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}