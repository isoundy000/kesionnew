<view class="course-play"><block wx:if="{{learnStatus==0}}"><view class="course-player"><view class="course-player__live-status">{{''+msg+''}}</view></view></block><block wx:else><block wx:if="{{playType==200&&learnStatus==1}}"><view class="{{['course-player',expand?'course-player--expand':'']}}"><scroll-view class="course-content-scroll" scroll-y="true"><view class="course-content"><rich-text nodes="{{learnContent}}"></rich-text></view></scroll-view><view data-event-opts="{{[['tap',[['toggleExpand',['$event']]]]]}}" class="course-content__expand" bindtap="__e"><block wx:if="{{expand}}"><image src="../../static/course/icon-packup.png"></image></block><block wx:else><image src="../../static/course/icon-expand.png"></image></block></view></view></block><block wx:else><block wx:if="{{learnStatus==1}}"><view class="course-player"><block wx:if="{{playType==5}}"><polyv-player vue-id="1" video-option="{{videoOption}}" data-event-opts="{{[['^onVodPlay',[['onVideoPlay']]],['^onVodTimeUpdate',[['onVideoTimeupdate']]],['^onVodPause',[['onVideoPause']]],['^onVodEnd',[['onVideoEnded']]],['^onVodContextChange',[['onVideoContextChange']]]]}}" bind:onVodPlay="__e" bind:onVodTimeUpdate="__e" bind:onVodPause="__e" bind:onVodEnd="__e" bind:onVodContextChange="__e" bind:__l="__l"></polyv-player></block><block wx:else><block wx:if="{{playType==0}}"><video src="{{videoSrc}}" id="courseVideo" autoplay data-event-opts="{{[['play',[['onVideoPlay',['$event']]]],['pause',[['onVideoPause',['$event']]]],['ended',[['onVideoEnded',['$event']]]],['timeupdate',[['onVideoTimeupdate',['$event']]]]]}}" bindplay="__e" bindpause="__e" bindended="__e" bindtimeupdate="__e"></video></block></block></view></block></block></block><ks-tabs vue-id="2" value="{{currentTab}}" tabList="{{tabs}}" data-event-opts="{{[['^updateValue',[['__set_sync',['$0','currentTab','$event'],['']]]],['^change',[['onTabChange']]]]}}" bind:updateValue="__e" bind:change="__e" bind:__l="__l"></ks-tabs><view hidden="{{!(currentTab==0)}}"><view class="course-head" style="display:flex;"><view style="flex:1;"><view class="course-title">{{''+title+''}}</view><view class="course-period-num">{{'共'+periodList.length+'个课时'}}</view></view><block wx:if="{{state.isCache}}"><view data-event-opts="{{[['tap',[['openDownload']]]]}}" style="font-size:14px;color:#888;display:flex;align-items:center;" bindtap="__e"><text>下载</text><image style="width:20px;height:20px;margin-left:5px;" src="{{state.SRC+'/KS_Inc/static/edu/images/down.png?1.0'}}"></image></view></block></view><block wx:if="{{currentTab==0}}"><scroll-view class="catalog-slide" scroll-x="true" scroll-left="{{scrollLeft}}" data-event-opts="{{[['scroll',[['onScroll',['$event']]]]]}}" bindscroll="__e"><block wx:for="{{periodList}}" wx:for-item="period" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['periodTap',['$0'],[[['periodList','',i]]]]]]]}}" class="{{['catalog-slide-item',current==period.periodid?'catalog-slide-item--active':'']}}" bindtap="__e"><view class="catalog-period"><view class="catalog-period__head"><view class="catalog-period__type">{{period.$type_name}}</view><block wx:if="{{period.islistening==1}}"><view class="catalog-period__tip">试听</view></block></view><view class="catalog-title">{{i+1+"."+period.periodname}}</view></view></view></block></scroll-view></block></view><view hidden="{{!(currentTab==1)}}" class="course-chatroom"><block wx:if="{{playType==5&&learnStatus==1&&liveStatus==1}}"><polyv-chatroom vue-id="3" skin="white" bind:__l="__l"></polyv-chatroom></block><block wx:else><block wx:if="{{current}}"><comment-list vue-id="4" proid="{{courseid}}" periodid="{{current}}" flag="{{2}}" channelid="{{10002}}" bind:__l="__l"></comment-list></block></block></view><view hidden="{{!(currentTab==2)}}"><course-exam vue-id="5" course-id="{{courseid}}" bind:__l="__l"></course-exam></view><view hidden="{{!(currentTab==3)}}"><course-notes vue-id="6" course-id="{{courseid}}" period-id="{{current}}" bind:__l="__l"></course-notes></view><ks-service vue-id="7" bind:__l="__l"></ks-service></view>