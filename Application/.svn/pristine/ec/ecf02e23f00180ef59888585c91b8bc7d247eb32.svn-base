webpackJsonp([40],{"84RQ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ks-container",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/activityregist"}}},[t._v("活动报名")]),t._v(" "),a("el-breadcrumb-item",[t._v("报名管理")])],1),t._v(" "),a("el-row",{staticClass:"search-row"},[a("el-col",{attrs:{span:16}},[a("el-select",{staticClass:"search-select",attrs:{size:"small"},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}},t._l(t.regionList,function(t,e){return a("el-option",{key:e,attrs:{value:t}})}),1),t._v(" "),a("el-input",{staticClass:"search-input",attrs:{size:"small"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}},[a("i",{staticClass:"el-input__icon iconfont icon-sousuo",attrs:{slot:"suffix"},slot:"suffix"})])],1),t._v(" "),a("el-col",{staticClass:"plus-col",attrs:{span:8}},[a("el-popover",{attrs:{placement:"bottom-end",width:"230",trigger:"click"}},[a("div",{staticClass:"state"},[a("div",{staticClass:"state__title"},[t._v("状态 :")]),t._v(" "),a("div",{staticClass:"state__content"},[a("span",{class:0==t.stateActive?"state__actived":"",on:{click:function(e){return t.changeStateActive(0)}}},[t._v("不限")]),t._v(" "),a("span",{class:1==t.stateActive?"state__actived":"",on:{click:function(e){return t.changeStateActive(1)}}},[t._v("报名成功")]),t._v(" "),a("span",{class:2==t.stateActive?"state__actived":"",on:{click:function(e){return t.changeStateActive(2)}}},[t._v("作废")])])]),t._v(" "),a("el-button",{staticClass:"filter",attrs:{slot:"reference",type:"primary",icon:"iconfont icon-filter",size:"small"},slot:"reference"})],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("导出Excle")])],1)],1),t._v(" "),a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableDataList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像昵称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.row.avatar,alt:""}}),t._v(" "),a("span",[t._v(t._s(e.row.nickname))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center","min-width":"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",align:"center","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"registrationTime",label:"报名时间","min-width":"150",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ticketCate",label:"票种",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"价格",align:"center","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",[t._v(t._s(e.row.price))]),t._v(" "),e.row.deposit?a("span",{staticStyle:{color:"#E64A3B"}},[t._v("( 定金 : ￥ "+t._s(e.row.deposit)+" )")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[0==e.row.state?a("span",[t._v("报名成功")]):1==e.row.state?a("span",[t._v("作废")]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[a("span",{staticClass:"table-operation"},[t._v("...")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("span",{on:{click:function(a){return t.recoveryRegistration(e.row.id)}}},[a("el-dropdown-item",[t._v("恢复")])],1),t._v(" "),a("span",{on:{click:function(a){return t.invalidationRegistration(e.row.id)}}},[a("el-dropdown-item",[t._v("作废")])],1)])],1)]}}])})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("div",[a("el-button",{staticClass:"delete-btn",attrs:{plain:"",size:"mini"}},[a("i",{staticClass:"iconfont icon-shanchu1",on:{click:t.deleteCurrentSelect}})]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.batchRecovery}},[t._v("批量恢复")]),t._v(" "),a("el-button",{attrs:{plain:"",size:"small"},on:{click:t.batchInvalidation}},[t._v("批量作废")])],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10}})],1)],1)},staticRenderFns:[]};var n=a("C7Lr")({name:"RegistrationManage",data:function(){return{region:"姓名",regionList:["姓名","手机号"],key:"",stateActive:0,tableDataList:[{id:"1",name:"张三",nickname:"berterny",avatar:"https://obj.kesion.com/Images/school/2/201903/823d7a846a613b884080591697c76ac4.jpg",mobile:"15999999999",registrationTime:"2019-04-27 09:00:00",ticketCate:"免费票",price:0,deposit:10,state:0},{id:"2",name:"张三",nickname:"berterny",avatar:"https://obj.kesion.com/Images/school/2/201903/823d7a846a613b884080591697c76ac4.jpg",mobile:"15999999999",registrationTime:"2019-04-27 09:00:00",ticketCate:"免费票",price:10,state:1},{id:"3",name:"张三",nickname:"berterny",avatar:"https://obj.kesion.com/Images/school/2/201903/823d7a846a613b884080591697c76ac4.jpg",mobile:"15999999999",registrationTime:"2019-04-27 09:00:00",ticketCate:"免费票",price:100,state:0}],currentSelectRowList:[]}},methods:{changeStateActive:function(t){this.stateActive=t},handleSelectionChange:function(t){this.currentSelectRowList=t},deleteCurrentSelect:function(){var t=this;this.currentSelectRowList.forEach(function(e){var a=t.tableDataList.findIndex(function(t){return e.id==t.id});t.tableDataList.splice(a,1)})},recoveryRegistration:function(t){var e=this.tableDataList.findIndex(function(e){return e.id==t});this.tableDataList[e].state=0},invalidationRegistration:function(t){var e=this.tableDataList.findIndex(function(e){return e.id==t});this.tableDataList[e].state=1},batchRecovery:function(){var t=this;this.currentSelectRowList.forEach(function(e){var a=t.tableDataList.findIndex(function(t){return e.id==t.id});t.tableDataList[a].state=0})},batchInvalidation:function(){var t=this;this.currentSelectRowList.forEach(function(e){var a=t.tableDataList.findIndex(function(t){return e.id==t.id});t.tableDataList[a].state=1})}}},i,!1,function(t){a("ihUo")},"data-v-4e2fe5e0",null);e.default=n.exports},ihUo:function(t,e){}});