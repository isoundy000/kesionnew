webpackJsonp([24],{BHpu:function(t,s){},ZpfE:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("3cXf"),a=e.n(i),n=e("a3Yh"),l=e.n(n),c=e("Llv5"),o={name:"dialogAddMission",props:{centerDialogVisible:{type:Boolean,default:!1},existChapterId:{type:Object}},data:function(){return{centerDialogVisible2:!1,classCate:"视频",options:["视频","音频","图文","直播","专栏"],input1:"",courseList:[],saveCourseList:[]}},methods:{selectAddCate:function(){var t=this;this.centerDialogVisible2=!0,this.$nextTick(function(){t.$emit("changeCenterDialogVisible",!1)})},handleSelectionChange:function(t){t.length>0&&(this.saveCourseList=t)},confirmSave:function(){this.saveCourseList.length>0&&this.$emit("saveCourseList",this.saveCourseList),this.centerDialogVisible2=!1},dialogClose:function(){this.$emit("changeCenterDialogVisible",!1)},openHandle:function(){this.input1="",this.courseList=[],this.classCateChange()},classCateChange:function(){var t=[l()({act:"appCourse",callKeyName:"courseList",p:1,data:{courseType:1,sql_or_like:{title:this.input1}},maxperpage:5},"p",1)];if("视频"==this.classCate)t[0].data.courseType=1;else if("音频"==this.classCate)t[0].data.courseType=3;else if("图文"==this.classCate)t[0].data.courseType=4;else if("直播"==this.classCate)t=[{act:"appClass",callKeyName:"courseList",data:{sql_or_like:{title:this.input1}},maxperpage:5,p:1}];else{if("专栏"!=this.classCate)return;t=[{act:"appColumn",callKeyName:"columnList",data:{sql_or_like:{title:this.input1}},maxperpage:5,p:1}]}this.getCourseList(t)},getCourseList:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(c.b)(s).then(function(s){s.courseList?t.courseList=s.courseList.list:t.courseList=s.columnList.list})},selectable:function(t,s){return(!t.courseid||!this.existChapterId.courseIdList.includes(t.courseid))&&(!t.columnid||!this.existChapterId.columnIdList.includes(t.columnid))}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-dialog",{attrs:{title:"选择添加任务类型",visible:t.centerDialogVisible,width:"45%",center:"","before-close":t.dialogClose},on:{"update:visible":function(s){t.centerDialogVisible=s}}},[e("div",{staticClass:"select-add-cate"},[e("div",{staticClass:"select-add-cate__content",on:{click:t.selectAddCate}},[e("img",{attrs:{src:""}}),t._v(" "),e("div",{staticClass:"title"},[t._v("课程内容")]),t._v(" "),e("div",{staticClass:"des"},[t._v("可添加视频/音频/图文/直播/专栏 , 提供优质教学内容")])]),t._v(" "),e("div",{staticClass:"select-add-cate__tools"},[e("img",{attrs:{src:""}}),t._v(" "),e("div",{staticClass:"title"},[t._v("教学工具")]),t._v(" "),e("div",{staticClass:"des"},[t._v("可添加教学工具 , 增强督学效果 , 提高教学质量")])])])]),t._v(" "),e("el-dialog",{attrs:{title:"选择课程内容",visible:t.centerDialogVisible2,width:"55%",center:""},on:{"update:visible":function(s){t.centerDialogVisible2=s},open:t.openHandle}},[e("div",{staticClass:"select-class-content"},[e("div",{staticClass:"select-class-content__header"},[e("el-select",{attrs:{size:"small",clearable:""},on:{change:t.classCateChange},model:{value:t.classCate,callback:function(s){t.classCate=s},expression:"classCate"}},t._l(t.options,function(t){return e("el-option",{key:t,attrs:{value:t}})}),1),t._v(" "),e("el-input",{staticClass:"select-class-content__title",attrs:{placeholder:"标题",size:"small"},on:{change:t.classCateChange},model:{value:t.input1,callback:function(s){t.input1=s},expression:"input1"}},[e("i",{staticClass:"iconfont icon-sousuo select-class-content__search",attrs:{slot:"suffix"},on:{click:t.classCateChange},slot:"suffix"})])],1),t._v(" "),e("div",{staticClass:"select-class-content__main"},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.courseList,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.selectable}}),t._v(" "),e("el-table-column",{attrs:{label:"内容"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{staticClass:"select-class-content__column"},[e("img",{staticClass:"select-class-content__img",attrs:{src:s.row.defaultpic,alt:""}}),t._v("\n                "+t._s(s.row.title)+"\n              ")])]}}])})],1),t._v(" "),e("el-pagination",{staticClass:"courseList-page",attrs:{background:"",small:"","page-size":5,layout:"prev, pager, next",total:t.courseList.length}})],1)]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.confirmSave}},[t._v("确定保存")]),t._v(" "),e("el-button",{on:{click:function(s){t.centerDialogVisible2=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var d={name:"CampsiteList",components:{dialogAddMission:e("C7Lr")(o,r,!1,function(t){e("BHpu")},"data-v-2dd93322",null).exports},data:function(){return{addNewCampsite:!1,trainCampName:"",centerDialogVisible:!1,isAllExpand:!1,chapterList:[{periodid:5236,periodname:"笔刷的使用，如何去创作元素",sum_credit:40,child:[{task_type:1,title:"标准点播信息",infoid:2271,type_name:"点播",type:1,try_it:!0,must_learn:!0,is_time_limit:!1,limit_time:[],defaultpic:"/UploadFiles/2019/112/3132061754672095.jpg",courseid:1},{task_type:1,title:"55555555555555",infoid:2241,credit:20,type_name:"点播",type:1,try_it:"true",must_learn:"true",is_time_limit:"true",limit_time:["2019-07-06 17:29:06","2019-07-20 17:29:08"],defaultpic:""}]},{periodname:"扁平插画多种风格+透视构图+杂色的运用",child:[]}],addCampsiteName:"",existChapterId:{courseIdList:[],columnIdList:[]}}},watch:{trainCampName:function(){this.trainCampName=this.trainCampName.trim(),this.trainCampName.length>30&&(this.trainCampName=this.trainCampName.slice(0,30))}},activated:function(){var t=this,s=[];(s=JSON.parse(a()(this.chapterList))).forEach(function(t){t.expand=!1,t.child.forEach(function(t){t.isEdit=!1})}),this.chapterList=s,this.chapterList.forEach(function(s){s.child.forEach(function(s){"专栏"!=s.type_name?t.existChapterId.courseIdList.push(s.courseid):t.existChapterId.columnIdList.push(s.courseid)})})},methods:{addCampsiteList:function(){this.addNewCampsite=!0},listenCenterDialogVisible:function(t){this.centerDialogVisible=t},handleAddCampsite:function(t){this.addCampsiteName=t.periodname,this.centerDialogVisible=!0},saveNewCampsite:function(){var t=this.trainCampName.trim();if(t.length>0){var s={periodname:t,expand:!1,child:[]};this.chapterList.push(s),this.addNewCampsite=!1}},allExpand:function(){var t=this.chapterList.every(function(t){return 1==t.expand});t?(this.chapterList.forEach(function(t){t.expand=!1}),this.isAllExpand=!1):(this.chapterList.forEach(function(t){t.expand=!0}),this.isAllExpand=!0)},saveCourseList:function(t){var s=this,e=this.chapterList.findIndex(function(t){return t.periodname==s.addCampsiteName});t.forEach(function(t){var i={type:t.courseType,title:t.title,try_it:!1,isEdit:!1};"1"==t.chargetype?i.type_name="图文":"2"==t.chargetype?i.type_name="考试":"3"==t.chargetype&&(i.type_name="社群"),t.courseid?(i.courseid=t.courseid,s.existChapterId.courseIdList.push(t.courseid)):t.columnid&&(i.courseid=t.columnid,s.existChapterId.columnIdList.push(t.columnid)),s.chapterList[e].child.push(i)})}}},p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ks-container",{staticClass:"train-camp-list"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/traincamp"}}},[t._v("训练营")]),t._v(" "),e("el-breadcrumb-item",[t._v("营期目录")])],1),t._v(" "),e("div",{staticClass:"tips"},[t._v("请您遵守国家相关规定，切勿上传低俗色情、暴力恐怖、谣言诈骗、侵权盗版等相关内容，科汛微门户保有依据国家规定及平台规则进行处理的权利。")]),t._v(" "),e("div",{staticClass:"train-camp-list-box"},[e("div",{staticClass:"train-camp-list-box__header"},[e("div",[t._v("营期目录")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addCampsiteList}},[t._v("添加目录")])],1),t._v(" "),e("div",{staticClass:"train-camp-list-box__container"},[e("el-row",{staticClass:"title-row"},[e("el-col",{staticClass:"grid-content",attrs:{span:15}},[e("div",{on:{click:t.allExpand}},[t._v("\n            目录内容\n            "),e("span",{staticClass:"expand-all"},[t._v("( "+t._s(t.isAllExpand?"全部关闭":"全部展开")+" )")])])]),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:5}}),t._v(" "),e("el-col",{staticClass:"grid-content operate",attrs:{span:4}},[t._v("操作")])],1),t._v(" "),t._l(t.chapterList,function(s,i){return e("el-row",{key:i,staticClass:"train-camp-list-box__item"},[e("el-row",{staticClass:"top"},[e("el-col",{staticClass:"grid-content",attrs:{span:15}},[e("div",[t._v("\n              第"+t._s(i+1)+"节\n              "),e("span",{staticClass:"name"},[t._v(t._s(s.periodname))])])]),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:5}},[e("div",[s.child.length>0?e("span",[t._v("共"+t._s(s.child.length)+"个任务")]):t._e()])]),t._v(" "),e("el-col",{staticClass:"grid-content handle",attrs:{span:4}},[e("div",{staticClass:"bottom"},[e("el-tooltip",{attrs:{content:"添加任务",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-tianjia",on:{click:function(e){return t.handleAddCampsite(s)}}})])],1),t._v(" "),s.expand?e("el-tooltip",{attrs:{content:"收起",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-suoxiao",on:{click:function(t){s.expand=!s.expand}}})]):e("el-tooltip",{attrs:{content:"展开",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-kuoda",on:{click:function(t){s.expand=!s.expand}}})]),t._v(" "),e("el-tooltip",{attrs:{content:"编辑",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-bianji4"})]),t._v(" "),e("el-tooltip",{attrs:{content:"删除",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-shanchu1"})])],1)],1),t._v(" "),s.expand?e("el-row",{staticClass:"bottom"},t._l(s.child,function(s,i){return e("div",{key:i},[e("el-row",{directives:[{name:"show",rawName:"v-show",value:!s.isEdit,expression:"!childItem.isEdit"}],staticClass:"bottom__index"},[e("el-col",{staticClass:"grid-content",attrs:{span:15}},[e("el-row",{staticClass:"des"},[e("el-col",{attrs:{span:1}},[t._v(t._s(i+1))]),t._v(" "),e("el-col",{attrs:{span:2}},[t._v(t._s(s.type_name))]),t._v(" "),e("el-col",{attrs:{span:20}},[t._v("\n                    "+t._s(s.title)+"\n                    "),s.try_it?e("span",{staticClass:"try-see-tag"},[t._v("试看")]):t._e()])],1)],1),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:5}}),t._v(" "),e("el-col",{staticClass:"grid-content handle",attrs:{span:4}},[e("el-tooltip",{attrs:{content:"展开",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-kuoda",on:{click:function(t){s.isEdit=!0}}})]),t._v(" "),e("el-tooltip",{attrs:{content:"编辑",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-bianji4"})]),t._v(" "),e("el-tooltip",{attrs:{content:"删除",placement:"bottom"}},[e("i",{staticClass:"iconfont icon-shanchu1"})])],1)],1),t._v(" "),e("el-row",{directives:[{name:"show",rawName:"v-show",value:s.isEdit,expression:"childItem.isEdit"}],staticClass:"bottom__index add-mission"},[e("el-col",{staticClass:"add-mission",attrs:{span:15}},[e("el-row",{staticClass:"mission"},[e("el-col",{staticClass:"grid-content",attrs:{span:1}},[t._v("1")]),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:2}},[t._v("任务名称")]),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:20}},[e("el-input",{staticClass:"mission__input",attrs:{size:"small"},model:{value:s.title,callback:function(e){t.$set(s,"title",e)},expression:"childItem.title"}},[e("span",{staticClass:"information-row-number",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(s.title.length)+"/30")])])],1)],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"grid-content",attrs:{span:1}}),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:2}},[t._v("已选商品")]),t._v(" "),e("el-col",{staticClass:"grid-content selected",attrs:{span:20}},[e("div",{staticClass:"selected__content"},[e("img",{attrs:{src:"https://obj.kesion.com/Images/school/2/201903/823d7a846a613b884080591697c76ac4.jpg",alt:""}}),t._v("\n                      扁平插画风格分析\n                    ")]),t._v(" "),e("div",[e("span",[t._v("图文")]),t._v(" "),e("el-button",{staticClass:"reelect",attrs:{plain:"",size:"small"}},[t._v("重新选择")])],1)])],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"grid-content",attrs:{span:1}}),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:2}}),t._v(" "),e("el-col",{staticClass:"grid-content set-try-see",attrs:{span:20}},[e("el-checkbox",{model:{value:s.try_it,callback:function(e){t.$set(s,"try_it",e)},expression:"childItem.try_it"}},[t._v("设为试看内容")])],1)],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"grid-content",attrs:{span:1}}),t._v(" "),e("el-col",{staticClass:"grid-content",attrs:{span:22}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){s.isEdit=!1}}},[t._v("确定保存")]),t._v(" "),e("el-button",{attrs:{size:"small"},on:{click:function(t){s.isEdit=!1}}},[t._v("取 消")])],1)],1)],1)],1)],1)}),0):t._e()],1)}),t._v(" "),t.addNewCampsite?e("el-row",{staticClass:"train-camp-list-box__item"},[e("el-row",{staticClass:"top"},[e("el-col",{staticClass:"grid-content",attrs:{span:15}},[e("div",{staticClass:"catalog"},[t._v("\n              第"+t._s(t.chapterList.length+1)+"节\n              "),e("el-input",{staticClass:"catalog__input",attrs:{size:"small"},model:{value:t.trainCampName,callback:function(s){t.trainCampName=s},expression:"trainCampName"}},[e("span",{staticClass:"information-row-number",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(t.trainCampName.length)+"/30")])]),t._v(" "),e("el-button",{staticClass:"catalog__btn",attrs:{type:"primary",size:"small"},on:{click:t.saveNewCampsite}},[t._v("保存")]),t._v(" "),e("el-button",{staticClass:"catalog__btn",attrs:{plain:"",size:"small"},on:{click:function(s){t.addNewCampsite=!1}}},[t._v("取消")])],1)])],1)],1):t._e()],2)]),t._v(" "),e("dialogAddMission",{attrs:{centerDialogVisible:t.centerDialogVisible,existChapterId:t.existChapterId},on:{changeCenterDialogVisible:t.listenCenterDialogVisible,saveCourseList:t.saveCourseList}})],1)},staticRenderFns:[]};var u=e("C7Lr")(d,p,!1,function(t){e("o2kO")},"data-v-193e5638",null);s.default=u.exports},o2kO:function(t,s){}});