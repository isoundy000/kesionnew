webpackJsonp([19],{"C1+l":function(t,e){t.exports="data:image/png;base64,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"},IHtK:function(t,e){},NPcg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("lC5x"),n=i.n(r),a=i("J0Oq"),s=i.n(a),c=i("a3Yh"),o=i.n(c),l=i("ofAU"),u={data:function(){var t;return t={ruleForm:{title:"",comment:"",qrcode:"",share:"",imgurl:""},certificateShow:!1,radio:"",visiList:[],pages:{p:1,maxperpage:5,keyword:""},listpages:{}},o()(t,"radio",!0),o()(t,"dialogVisible",!1),o()(t,"activeStatusIndex","0"),o()(t,"activeName","first"),o()(t,"info",{}),o()(t,"allflag",!1),o()(t,"list",[]),o()(t,"listpage",{}),o()(t,"page",{p:1,maxperpage:10,keyword:"",status:0}),t},methods:{gotodel:function(){if(this.dialogVisible=!1,!this.radio)return this.$message.error("请选择关联的考试");this.$router.push("/addcertificate?infoid="+this.radio)},certificateStatus:function(t){var e=this;return s()(n.a.mark(function i(){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)({id:t});case 2:r=e.sent,r.data;case 4:case"end":return e.stop()}},i,e)}))()},searchList:function(){this.getList()},searchVisiList:function(){this.getSelectList()},compile:function(t){this.$router.push("/addcertificate?id="+t.id)},preview:function(t){var e=this;return s()(n.a.mark(function i(){var r,a,s;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.certificateShow=!0,r=e.ruleForm,i.next=4,Object(l.e)({id:t.id});case 4:a=i.sent,s=a.msg,r.title=s.title,s.json&&s.json.length?(console.log(111),r.comment=s.json[0].comment):r.comment=" “坚持做自己，坚持进步，坚持进步，坚持进步对知识点掌握非常不错，继续加油，相信会取得更大的成就！”",r.qrcode=s.qrcode,r.share=s.share_title,r.imgurl=s.cover;case 11:case"end":return i.stop()}},i,e)}))()},del:function(t,e){var i=this;this.$confirm("此操作将永久删除该证书, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)({id:t.id});case 2:"success"==e.sent.result&&(i.getList(),i.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,i)}))).catch(function(){})},showStatusList:function(t){this.activeStatusIndex=t,this.page.status=t,this.getList()},getList:function(){var t=this;return s()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(t.page);case 2:(i=e.sent).list.map(function(t){t.flag=!1,t.status=1==t.status}),t.list=i.list,t.listpage=i.page;case 6:case"end":return e.stop()}},e,t)}))()},allcheck:function(){var t=this,e=[];this.list.map(function(i){i.flag=!!t.allflag,i.flag?e.push(i.id):e=[]}),this.listid=e},checkbox:function(){var t=[],e=0;this.list.map(function(i){i.flag&&(e++,t.push(i.id))}),this.listid=t,this.allflag=this.list.length==e},moredel:function(){var t=this;if(!this.listid.length)return this.$message({type:"error",message:"请选择要删除的证书"});this.$confirm("此操作将永久删除该证书, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)({id:t.listid});case 2:"success"==e.sent.result&&(t.getList(),t.$message({type:"success",message:"删除成功!"}));case 4:case"end":return e.stop()}},e,t)}))).catch(function(){})},handleCurrentChange:function(t){this.page.p=t,this.getList()},handleCurrentChanges:function(t){this.pages.p=t,this.addcertificate()},getSelectList:function(){var t=this;return s()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.g)(t.pages);case 2:i=e.sent,t.visiList=i.list,t.listpages=i.page;case 5:case"end":return e.stop()}},e,t)}))()},addcertificate:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.radio="",t.dialogVisible=!0,t.getSelectList();case 3:case"end":return e.stop()}},e,t)}))()}},created:function(){this.getList()},watch:{list:function(){this.allflag=!1,this.listid=[]},$route:function(t,e){"AddCertificate"===e.name&&this.getList()},deep:!0}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ks-container",[r("ks-title",{attrs:{name:"证书管理",border:"none"}}),t._v(" "),r("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"考试",name:"first"}},[r("div",{staticClass:"friend-con-addhelp"},[r("div",[r("el-input",{attrs:{placeholder:"请输入搜索内容","prefix-icon":"el-icon-search",clearable:""},on:{change:function(e){return t.searchList()}},model:{value:t.page.keyword,callback:function(e){t.$set(t.page,"keyword",e)},expression:"page.keyword"}})],1),t._v(" "),r("div",[r("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click"}},[r("div",[r("span",[t._v("状态 :")]),t._v(" "),r("span",{class:["status",0==t.activeStatusIndex?"active-status":""],on:{click:function(e){return t.showStatusList(0)}}},[t._v("不限")]),t._v(" "),r("span",{class:["status",1==t.activeStatusIndex?"active-status":""],on:{click:function(e){return t.showStatusList(1)}}},[t._v("已开启")]),t._v(" "),r("span",{class:["status",2==t.activeStatusIndex?"active-status":""],on:{click:function(e){return t.showStatusList(2)}}},[t._v("未开启")])]),t._v(" "),r("el-button",{attrs:{slot:"reference",type:"primary",icon:"iconfont icon-filter",size:"small"},slot:"reference"})],1),t._v(" "),r("el-button",{attrs:{type:"primary",icon:"iconfont icon-plus",size:"small"},on:{click:t.addcertificate}},[t._v("添加证书")])],1)]),t._v(" "),r("el-table",{staticClass:"main",staticStyle:{width:"100%"},attrs:{data:t.list,"tooltip-effect":"dark"}},[r("el-table-column",{attrs:{label:"选择",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-checkbox",{on:{change:t.checkbox},model:{value:e.row.flag,callback:function(i){t.$set(e.row,"flag",i)},expression:"scope.row.flag"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"证书名称",align:"center","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.title))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"关联考试",align:"center","min-width":"100",prop:"info_title"}}),t._v(" "),r("el-table-column",{attrs:{prop:"adddate",label:"添加时间",align:"center","min-width":"100"}}),t._v(" "),r("el-table-column",{attrs:{label:"是否开启",align:"center","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:function(i){return t.certificateStatus(e.row.id)}},model:{value:e.row.status,callback:function(i){t.$set(e.row,"status",i)},expression:"scope.row.status"}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"price",label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-dropdown",{attrs:{trigger:"click",placement:"bottom"}},[r("i",{staticClass:"el-icon-more"}),t._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("span",[r("el-dropdown-item",{staticStyle:{"text-align":"center"},nativeOn:{click:function(i){return t.compile(e.row)}}},[t._v("编辑")])],1),t._v(" "),r("span",[r("el-dropdown-item",{staticStyle:{"text-align":"center"},nativeOn:{click:function(i){return t.preview(e.row)}}},[t._v("预览")])],1),t._v(" "),r("span",[r("el-dropdown-item",{staticStyle:{"text-align":"center"},nativeOn:{click:function(i){return t.del(e.row,e.$index)}}},[t._v("删除")])],1)])],1)]}}])})],1),t._v(" "),r("div",{staticClass:"pirfooter"},[r("div",{staticClass:"pirfooter-left"},[r("span",[r("el-checkbox",{on:{change:t.allcheck},model:{value:t.allflag,callback:function(e){t.allflag=e},expression:"allflag"}},[t._v("全选")]),t._v(" "),r("el-button",{attrs:{icon:"el-icon-delete"},on:{click:t.moredel}})],1)]),t._v(" "),r("div",{staticClass:"pirfooter-right"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.page.maxperpage,total:Number(t.listpage.totalput),"current-page":t.page.p},on:{"current-change":t.handleCurrentChange}})],1)])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"选择考试",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"visiInput"},[r("el-input",{staticClass:"VisibleInput",attrs:{placeholder:"请输入搜索内容","prefix-icon":"el-icon-search",clearable:""},on:{change:function(e){return t.searchVisiList()}},model:{value:t.pages.keyword,callback:function(e){t.$set(t.pages,"keyword",e)},expression:"pages.keyword"}})],1),t._v(" "),t._l(t.visiList,function(e,i){return r("div",{key:i,staticClass:"visiSelect"},[r("div",[r("el-radio",{attrs:{label:e.id,disabled:1==e.islink},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(e.title))])],1),t._v(" "),r("div",[r("span",{staticClass:"isset"},[t._v(t._s(1==e.islink?"已设置证书":""))])])])}),t._v(" "),r("div",{staticClass:"visifooter-right"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pages.maxperpage,total:Number(t.listpages.totalput),"current-page":t.pages.p},on:{"current-change":t.handleCurrentChanges}})],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.gotodel}},[t._v("确 定")])],1)],2),t._v(" "),r("el-dialog",{attrs:{title:"证书预览",visible:t.certificateShow,width:"415px"},on:{"update:visible":function(e){t.certificateShow=e}}},[r("div",{staticClass:"certcon-tem"},[r("div",{staticClass:"certcon-tem__con",style:{background:"url("+t.ruleForm.imgurl+") center center / contain no-repeat"}},[r("p",{class:["certcon-tem__con--title","/Public/app/images/certificate_bg2.png"==t.ruleForm.imgurl?"bgactive":""]},[t._v(t._s(t.ruleForm.title))]),t._v(" "),r("div",{staticClass:"certcon-tem__msg"},[r("img",{staticClass:"certcon-tem__msg--image",attrs:{src:i("C1+l"),alt:""}}),t._v(" "),r("p",{class:["certcon-tem__msg--name","/Public/app/images/certificate_bg2.png"==t.ruleForm.imgurl?"bgactive":""]},[t._v("松仔")]),t._v(" "),r("p",{class:["certcon-tem__msg--grade","/Public/app/images/certificate_bg2.png"==t.ruleForm.imgurl?"bgactive":""]},[t._v(" 在《测试考试》获得了90分")]),t._v(" "),r("p",{class:["certcon-tem__msg--com","/Public/app/images/certificate_bg2.png"==t.ruleForm.imgurl?"bgactive":""]},[r("span",[t._v(t._s(t.ruleForm.comment))])])]),t._v(" "),r("div",{staticClass:"certcon-tem__focus"},[r("img",{attrs:{src:t.ruleForm.qrcode,alt:""}}),t._v(" "),r("div",{staticClass:"certcon-tem__focus--info"},[r("div",{staticClass:"certcon-tem__focus--name"},[t._v(t._s(t.ruleForm.share))]),t._v(" "),r("div",{staticClass:"certcon-tem__focus--desc"},[t._v("长按识别二维码关注")])])])])])])],1)},staticRenderFns:[]};var f=i("C7Lr")(u,v,!1,function(t){i("IHtK")},"data-v-782c4631",null);e.default=f.exports},ofAU:function(t,e,i){"use strict";e.b=function(t){return new n.a(function(e){Object(a.b)("Certificate.certificateList",t).then(function(t){e(t)})})},e.c=function(t){return new n.a(function(e){Object(a.b)("Certificate.changeStatus",t).then(function(t){e(t)})})},e.g=function(t){return new n.a(function(e){Object(a.b)("Certificate.getLinkList",t).then(function(t){e(t)})})},e.d=function(t){return new n.a(function(e){Object(a.b)("Certificate.del",t).then(function(t){e(t)})})},e.f=function(t){return new n.a(function(e){Object(a.b)("Certificate.getLinkDetail",t).then(function(t){e(t)})})},e.a=function(t){return new n.a(function(e){Object(a.b)("Certificate.addCertificate",t).then(function(t){e(t)})})},e.e=function(t){return new n.a(function(e){Object(a.b)("Certificate.getCertificate",t).then(function(t){e(t)})})};var r=i("rVsN"),n=i.n(r),a=i("60kx")}});