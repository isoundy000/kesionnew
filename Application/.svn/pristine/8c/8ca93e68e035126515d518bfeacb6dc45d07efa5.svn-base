webpackJsonp([11],{"++tE":function(t,e,i){"use strict";var n={data:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return{letters:t,tkTypes:[{id:"1",name:"简答题"},{id:"2",name:"单选题"},{id:"3",name:"多选题"},{id:"4",name:"判断题"},{id:"5",name:"填空题"},{id:"6",name:"组合题"}]}},filters:{filterAnswer:function(t,e){if(3==e)return t.join();if(4==e)return(""+t=="0"?"错误":""+t=="1"&&"正确")||"暂无答案";if(5==e){var i="";return t.map(function(t,e){i+=e>0?" 、 ("+t.join(" || ")+")":"("+t.join(" || ")+")"}),i}return t||"暂无答案"},filterHtml:function(t){return t.replace(/\<[^>]+>/gi,"")}},methods:{getTkTypeName:function(t){if(t){t=parseInt(t);var e=void 0;return this.tkTypes.map(function(i){i.id==t&&(e=i.name)}),e}}}};e.a=n},"/PUX":function(t,e){},GMUD:function(t,e){},dvjA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"QuestionTkList",data:function(){return{}},components:{QuestionList:i("xeox").a}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ks-container",[e("ks-title",{attrs:{name:"考试系统",border:"none"}}),this._v(" "),e("question-list")],1)},staticRenderFns:[]},s=i("C7Lr")(n,a,!1,null,null,null);e.default=s.exports},xeox:function(t,e,i){"use strict";var n=i("++tE"),a=i("g+M4"),s=i("0xDb"),o=i("Ewv6"),l=i("fNHR"),r={name:"PaperAdd",props:{questionInfo:{type:Object,default:function(){return{}}},defaultParentidPath:{type:Array,default:function(){return[]}},update:{type:Boolean,default:!1},childQuestionIndex:{type:Number,default:-2},typeValue:[String,Number]},mixins:[n.a],data:function(){return{loaded:!1,showClassfiy:!0,categoryid:"0",parentidPath:[],stem:"",level:"中",tkinfo:{},childQuestions:[]}},watch:{update:function(t){t&&this.updateData()},stem:function(t,e){5==this.typeValue&&this.updateStemTags()}},methods:{handleTagClose:function(t,e){t.splice(e,1)},showTagInput:function(t,e){var i=this;t.inputVisible=!0,this.$nextTick(function(t){i.$refs["tag"+e][0].$refs.input.focus()})},handleTagConfirm:function(t){t.inputValue&&(t.dynamicTags.push(t.inputValue),t.inputValue="",t.inputVisible=!1)},updateStemTags:function(){var t=this;if(this.stem){var e=[];(this.stem.replace(/\<[^>]+>/gi,"").match(/_{3,}/g)||[]).map(function(i,n){t.tkinfo.answer[n]?e.push(t.tkinfo.answer[n]):e.push({optname:"第"+(n+1)+"空答案",dynamicTags:[],inputValue:"",inputVisible:!1})}),this.tkinfo.answer=e}},addOptions:function(){this.tkinfo.content.push({optionName:"选项"+(this.tkinfo.content.length+1),optionLeter:this.letters[this.tkinfo.content.length]})},delOption:function(){this.tkinfo.content.length>2?this.tkinfo.content.pop():this.$message({message:"选项不能小于两个，不能删除了",type:"warning"})},uploadAudio:function(){var t=this;this.$store.ready(function(e){t.$aliUpload({wxid:e.info.wxid,type:"examAudio",uploaded:function(e){t.tkinfo.audio_file=e.path,t.tkinfo.audio_file_name=e.file.name}})})},save:function(){var t=this;if(""==this.stem)return this.$msg("请填写题干"),this.$refs.stem.focus(),!1;var e=this.getTkInfo();if(1!=this.typeValue&&6!=this.typeValue&&""===e.answer.toString())return this.$msg("请填写答案"),!1;var i=this.questionInfo.tkid||0;if(-2===this.childQuestionIndex)Object(a.c)({categoryid:this.categoryid,title:this.stem,tktype:this.typeValue,tkid:i,level:this.getLevelValue(this.level),tkinfo:e}).then(function(e){"success"==e.result?i?(t.$msg("修改成功","success"),t.$emit("saved",{action:"editQuestion"})):(t.$msg("添加成功","success"),t.$emit("saved")):t.$msg(e.msg)});else if(this.childQuestionIndex>=-1){var n=Object(s.b)(this.childQuestions),o=this.getTkInfo(),l={title:this.stem,tktype:this.typeValue,level:this.level,tkinfo:o},r="添加成功";-1===this.childQuestionIndex?n.push(l):(n.splice(this.childQuestionIndex,1,l),r="修改成功"),Object(a.n)({tkid:i,tklist:n}).then(function(e){"success"===e.result&&(t.$msg(r,"success"),t.$emit("saved",{action:"addChildQuestion",tkid:i,childtk:n}))})}},getLevelValue:function(t){return["低","中","高"].indexOf(t)+1},getTkInfo:function(){var t=Object(s.b)(this.tkinfo);if(2==this.typeValue||3==this.typeValue){var e=[];t.content.map(function(t){e.push(t.optionName)}),t.content=e}else if(5==this.typeValue){var i=[];this.tkinfo.answer.map(function(t,e){t.dynamicTags&&i.push(t.dynamicTags)}),t.answer=i}return t},dataInit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loaded=!1,this.$nextTick(function(){t.stem=e.title||"",t.level=e.level||"中",t.categoryid=e.categoryid||t.defaultParentidPath[t.defaultParentidPath.length-1]||"0";var i=e.tkinfo||{},n={};if(2==t.typeValue||3==t.typeValue){var a=[];if("Array"===Object(s.g)(i.content)&&i.content.length)i.content.map(function(e,i){a.push({optionName:e,optionLeter:t.letters[i]})});else for(var o=0;o<4;o++)a.push({optionName:"选项"+(o+1),optionLeter:t.letters[o]});n.content=a,3==t.typeValue?n.answer=i.answer||["A"]:n.answer=i.answer||"A"}else if(5==t.typeValue){var l=i.answer||[],r=[];l.length&&l.map(function(t,e){r.push({optname:"第"+(e+1)+"空答案",dynamicTags:t,inputValue:"",inputVisible:!1})}),n.answer=r}else 4==t.typeValue&&(n.answer=i.answer||0);n.analysis=i.analysis||"",n.audio_file_name=i.audio_file_name||"",n.audio_file=i.audio_file||"",t.tkinfo=n,t.parentidPath=e.parentidpath||t.defaultParentidPath,t.loaded=!0})},updateData:function(){-2===this.childQuestionIndex?this.dataInit(this.questionInfo):-1===this.childQuestionIndex?(this.dataInit(),this.childQuestions=this.questionInfo.tkinfo.childtk||[]):this.childQuestionIndex>=0&&(this.childQuestions=this.questionInfo.tkinfo.childtk,this.dataInit(this.questionInfo.tkinfo.childtk[this.childQuestionIndex]))},handleCategoryidChange:function(t){this.categoryid=t},upFieldOrder:function(t,e){var i=e[t-1],n=e[t],a=i.optionName,s=n.optionName;n.optionName=a,i.optionName=s},downFieldOrder:function(t,e){var i=e[t+1],n=e[t],a=i.optionName,s=n.optionName;n.optionName=a,i.optionName=s}},created:function(){this.updateData()},components:{PaperClassfiy:l.a}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loaded?i("div",{staticClass:"exam-container"},[i("el-form",{ref:"form",attrs:{"label-width":"120px"}},[-2===t.childQuestionIndex?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showClassfiy,expression:"showClassfiy"}],attrs:{label:"题目类别"}},[i("paper-classfiy",{attrs:{"parentid-path":t.parentidPath,visible:t.showClassfiy},on:{change:t.handleCategoryidChange,"update:visible":function(e){t.showClassfiy=e}}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"题目信息"}},[i("ks-editor",{attrs:{"maximum-words":100},model:{value:t.stem,callback:function(e){t.stem=e},expression:"stem"}}),t._v(" "),5==t.typeValue?i("div",{staticClass:"ks-tips ks-color-warning ks-fz14 ks-mt10"},[t._v('提示：填空用连续三个下划线"_"表示，若一个空有多个参考答案，请添加同义词，学员答案匹配任意一个都算正确。')]):t._e(),t._v(" "),i("div",{staticClass:"exam-container__el-row ks-mt10"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.uploadAudio}},[t._v("音频上传")]),t._v(" "),t.tkinfo.audio_file_name?i("div",{staticClass:"file_name"},[t._v(t._s(t.tkinfo.audio_file_name))]):t._e(),t._v(" "),i("div",{staticClass:"ks-tips"},[t._v("请注意您只能上传MP3、WMA格式的音频文件，文件最多可上传20M")])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"题目解析"}},[i("ks-editor",{model:{value:t.tkinfo.analysis,callback:function(e){t.$set(t.tkinfo,"analysis",e)},expression:"tkinfo.analysis"}})],1),t._v(" "),2==t.typeValue||3==t.typeValue?i("el-form-item",{attrs:{label:"题目选项"}},t._l(t.tkinfo.content,function(e,n){return i("el-row",{key:e.optionLeter,staticClass:"exam-container__el-row"},[i("el-col",{attrs:{span:2}},[2==t.typeValue?i("el-radio",{attrs:{label:e.optionLeter},model:{value:t.tkinfo.answer,callback:function(e){t.$set(t.tkinfo,"answer",e)},expression:"tkinfo.answer"}},[t._v(t._s(e.optionLeter))]):i("el-checkbox",{attrs:{label:e.optionLeter},model:{value:t.tkinfo.answer,callback:function(e){t.$set(t.tkinfo,"answer",e)},expression:"tkinfo.answer"}},[t._v(t._s(e.optionLeter))])],1),t._v(" "),i("el-col",{attrs:{span:14}},[i("ks-editor",{attrs:{"maximum-words":100},model:{value:e.optionName,callback:function(i){t.$set(e,"optionName",i)},expression:"item.optionName"}})],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"exam-item"},[i("el-col",{staticClass:"exam-item__el-col",attrs:{span:6}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"danger",size:"small",circle:""},on:{click:function(e){return t.addOptions()}}})],1),t._v(" "),i("el-col",{staticClass:"exam-item__el-col",attrs:{span:6}},[i("el-button",{attrs:{icon:"el-icon-minus",type:"danger",size:"small",circle:""},on:{click:function(e){return t.delOption()}}})],1),t._v(" "),i("el-col",{staticClass:"exam-item__el-col",attrs:{span:6}},[i("el-button",{attrs:{type:"primary",size:"small",disabled:0===n,icon:"el-icon-arrow-up",circle:""},on:{click:function(e){return t.upFieldOrder(n,t.tkinfo.content)}}})],1),t._v(" "),i("el-col",{staticClass:"exam-item__el-col",attrs:{span:6}},[i("el-button",{attrs:{type:"primary",size:"small",disabled:n===t.tkinfo.content.length-1,icon:"el-icon-arrow-down",circle:""},on:{click:function(e){return t.downFieldOrder(n,t.tkinfo.content)}}})],1)],1)])],1)}),1):5==t.typeValue?i("el-form-item",t._l(t.tkinfo.answer,function(e,n){return i("div",{key:n},[i("div",{staticClass:"exam-container__addon"},[t._v(t._s(e.optname))]),t._v(" "),i("div",{staticClass:"exam-container__edir"},[t._l(e.dynamicTags,function(n,a){return i("el-tag",{key:a,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return t.handleTagClose(e.dynamicTags,a)}}},[t._v(t._s(n))])}),t._v(" "),e.inputVisible?i("el-input",{ref:"tag"+n,refInFor:!0,staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:function(i){return t.handleTagConfirm(e)}},model:{value:e.inputValue,callback:function(i){t.$set(e,"inputValue",i)},expression:"item.inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(i){return t.showTagInput(e,n)}}},[t._v("+ 同义词")])],2)])}),0):4==t.typeValue?i("el-form-item",{attrs:{label:"答案"}},[i("el-radio-group",{model:{value:t.tkinfo.answer,callback:function(e){t.$set(t.tkinfo,"answer",e)},expression:"tkinfo.answer"}},[i("el-radio",{attrs:{label:1}},[t._v("正确")]),t._v(" "),i("el-radio",{attrs:{label:0}},[t._v("错误")])],1)],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"难度系数"}},[i("el-radio-group",{model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},[i("el-radio",{attrs:{label:"低"}},[t._v("低")]),t._v(" "),i("el-radio",{attrs:{label:"中"}},[t._v("中")]),t._v(" "),i("el-radio",{attrs:{label:"高"}},[t._v("高")])],1)],1)],1),t._v(" "),i("div",{attrs:{align:"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1):i("div",{staticClass:"exam-container__loading"},[i("ks-loading")],1)])},staticRenderFns:[]};var d={name:"TKList",components:{ChoiceQuestion:i("C7Lr")(r,c,!1,function(t){i("GMUD")},"data-v-ee0e15b2",null).exports,PaperLead:o.default},mixins:[n.a],props:{action:String,filterType:{type:[String,Number],default:"0"},tips:String,parentidPath:{type:Array,default:function(){return["0"]}},selectedList:{type:Array,default:function(){return[]}}},data:function(){return{loaded:!0,paperLeadVisible:!1,pagination:{total:1,current:1},activeName:"second",keyword:"",currentTkType:this.filterType,tableData:[],typeValue:"",choiceQuesionVisible:!1,difficult:[{value:"0",label:"不限"},{value:"1",label:"低"},{value:"2",label:"中"},{value:"3",label:"高"}],tkhard:"0",questionInfo:{},childQuestionIndex:-2}},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$showLoading();var i={p:e,level:this.tkhard,tktype:this.currentTkType,maxperpage:10,keyword:this.keyword};i.categoryid=this.parentidPath[this.parentidPath.length-1]||"0",Object(a.m)(i).then(function(e){e.list.map(function(t){t.checked=!1,t.disabled=!1,t.showFlag=!1}),t.tableData=e.list,t.setSelectedDisabled(),t.pagination.current=e.page.now_page,t.pagination.total=e.page.total_pages,t.$hideLoading()})},setSelectedDisabled:function(){var t=this;this.tableData.map(function(e){var i=!1;t.selectedList.map(function(t){t==e.tkid&&(i=!0)}),i?(e.checked=!0,e.disabled=!0):(e.checked=!1,e.disabled=!1)})},handleTkSaved:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.choiceQuesionVisible=!1,"addChildQuestion"===t.action?this.tableData.map(function(e){e.tkid==t.tkid&&(e.showFlag=!0,e.tkinfo.childtk=t.childtk)}):"editQuestion"===t.action?this.getList(this.pagination.current):this.getList()},handleCommand:function(t){2==t.type?this.del([t.id]):(this.questionInfo=Object(s.b)(t.data),this.childQuestionIndex=-2,this.typeValue=t.data.tktype,this.choiceQuesionVisible=!0)},del:function(t){var e=this;Object(a.g)({type:2,id:t}).then(function(t){"success"==t.result?(e.$msg("删除成功","success"),e.getList(e.pagination.current)):e.$msg("删除失败")})},addChildQuestion:function(t){this.questionInfo=t.info,this.childQuestionIndex=-1,this.typeValue=t.tktype,this.choiceQuesionVisible=!0},addQuestionCommand:function(t){this.addQuestion(t.id)},addQuestion:function(t){this.childQuestionIndex=-2,this.questionInfo={},this.typeValue=t,this.choiceQuesionVisible=!0},handleTabClick:function(t){"试卷"==t.label&&this.$router.push("/?url=/home.html/exam/Index?appid-10")},save:function(){var t=[];this.tableData.map(function(e){e.checked&&!1===e.disabled&&t.push(e)}),this.$emit("callback",t)},spread:function(t){t.showFlag?t.showFlag=!1:t.showFlag=!0},makeDel:function(t,e,i){var n=this,o=Object(s.b)(t);o.splice(e,1),Object(a.n)({tkid:i,tklist:o}).then(function(i){"success"===i.result&&(n.$msg("删除成功","success"),t.splice(e,1))})},editCombinationQuestion:function(t,e,i){this.questionInfo=t,this.typeValue=e,this.childQuestionIndex=i,this.choiceQuesionVisible=!0}},created:function(){this.getList()},activated:function(){this.activeName="second"},watch:{filterType:function(t){this.currentTkType=t,this.getList()},selectedList:{handler:function(){this.setSelectedDisabled()},deep:!0}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["selectQuestion"!==t.action?i("el-row",[[i("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"试卷",name:"first"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"题库",name:"second"}})],1)]],2):t._e(),t._v(" "),t.tips?i("el-alert",{attrs:{title:t.tips,type:"warning",closable:!1}}):t._e(),t._v(" "),i("el-row",{staticClass:"ks-pt20 ks-pd20"},[i("el-col",{attrs:{span:18}},[i("el-select",{staticClass:"ks-w150",attrs:{placeholder:"请选择难度"},on:{change:function(e){return t.getList()}},model:{value:t.tkhard,callback:function(e){t.tkhard=e},expression:"tkhard"}},t._l(t.difficult,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),"selectQuestion"!==t.action?i("el-select",{staticClass:"ks-w150",attrs:{placeholder:"请选择题目类型"},on:{change:function(e){return t.getList()}},model:{value:t.currentTkType,callback:function(e){t.currentTkType=e},expression:"currentTkType"}},[i("el-option",{attrs:{label:"不限",value:"0"}}),t._v(" "),t._l(t.tkTypes,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2):t._e(),t._v(" "),i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{change:function(e){return t.getList()}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("i",{staticClass:"el-icon-search el-input__icon ks-cursor-pointer",attrs:{slot:"suffix"},on:{click:function(e){return t.getList()}},slot:"suffix"})])],1),t._v(" "),i("el-col",{attrs:{span:6,align:"right"}},["selectQuestion"!==t.action?i("el-button",{staticClass:"ks-mr10",attrs:{type:"primary"},on:{click:function(e){t.paperLeadVisible=!0}}},[t._v("题目导入")]):t._e(),t._v(" "),"selectQuestion"===t.action?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addQuestion(t.currentTkType)}}},[t._v("添加"+t._s(t.getTkTypeName(t.currentTkType)))]):i("el-dropdown",{on:{command:t.addQuestionCommand}},[i("el-button",{attrs:{type:"primary"}},[t._v("\n          添加题目\n          "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.tkTypes,function(e){return i("el-dropdown-item",{key:e.id,attrs:{command:e}},[i("div",{on:{click:function(i){return t.addQuestion(e.id)}}},[t._v(t._s(e.name))])])}),1)],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"选择",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{attrs:{disabled:e.row.disabled},model:{value:e.row.checked,callback:function(i){t.$set(e.row,"checked",i)},expression:"scope.row.checked"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{type:"index",width:"55",label:"序号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"level",label:"难度",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{label:"题目类型",prop:"type_name",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"题目分类",prop:"categoryname",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"题目"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"item-content"},[t._v("\n              "+t._s(t._f("filterHtml")(e.row.title))+"\n              "),i("span",{on:{click:function(i){return t.spread(e.row)}}},[i("i",{staticClass:"expand ks-color-link"},[t._v(t._s(e.row.showFlag?"【关闭】":"【展开】"))])]),t._v(" "),6==e.row.tktype?i("span",[i("el-dropdown",{on:{command:t.addChildQuestion}},[i("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                    添加小题\n                    "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.tkTypes,function(n){return i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:6!=n.id,expression:"item.id != 6"}],key:n.id,attrs:{command:{info:e.row,tktype:n.id}}},[t._v(t._s(n.name))])}),1)],1)],1):t._e(),t._v(" "),e.row.showFlag?i("div",{staticClass:"analysis"},[i("div",[i("div",{staticClass:"black-box"},[1!=e.row.tktype&&6!=e.row.tktype?i("div",[t._v("\n                      答案："+t._s(t._f("filterAnswer")(e.row.tkinfo.answer,e.row.tktype))+"\n                    ")]):t._e(),t._v(" "),6!=e.row.tktype?i("div",{staticClass:"black-title"},[t._v("解析："+t._s(t._f("filterHtml")(e.row.tkinfo.analysis)))]):t._e()])]),t._v(" "),e.row.tkinfo.childtk?i("div",t._l(e.row.tkinfo.childtk,function(n,a){return i("div",{key:a,staticClass:"small-question"},[i("div",{staticClass:"black-box"},[i("div",{staticClass:"black-font"},[t._v("第"+t._s(a+1)+"小题")]),t._v(" "),i("div",{staticClass:"black-title"},[t._v("【"+t._s(t.getTkTypeName(n.tktype))+"】"+t._s(t._f("filterHtml")(n.title)))])]),t._v(" "),i("div",{staticClass:"black-box"},[1!=n.tktype?i("div",[t._v("\n                        答案："+t._s(t._f("filterAnswer")(n.tkinfo.answer,n.tktype))+"\n                      ")]):t._e()]),t._v(" "),i("div",{staticClass:"black-title"},[t._v("解析："+t._s(t._f("filterHtml")(n.tkinfo.analysis)))]),t._v(" "),i("div",{staticClass:"black-box"},[i("span",{staticClass:"black-font"},[t._v("操作")]),t._v(" "),i("span",{staticClass:"expand ks-color-link",on:{click:function(i){return t.editCombinationQuestion(e.row,n.tktype,a)}}},[t._v("【编辑】")]),t._v(" "),i("span",{staticClass:"expand ks-color-link",on:{click:function(i){return t.makeDel(e.row.tkinfo.childtk,a,e.row.tkid)}}},[t._v("【删除】")])])])}),0):t._e()]):t._e()])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"adddate",label:"添加时间",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-more"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:{type:"1",data:e.row}}},[t._v("编辑")]),t._v(" "),i("el-dropdown-item",{attrs:{command:{type:"2",id:e.row.tkid}}},[t._v("删除")])],1)],1)]}}])})],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.paperLeadVisible,"append-to-body":!0},on:{"update:visible":function(e){t.paperLeadVisible=e}}},[i("paper-lead",{on:{success:function(e){t.paperLeadVisible=!1,t.getList()}}})],1),t._v(" "),i("el-dialog",{attrs:{width:"950px",title:t.getTkTypeName(t.typeValue),visible:t.choiceQuesionVisible,"append-to-body":!0},on:{"update:visible":function(e){t.choiceQuesionVisible=e}}},[i("choice-question",{attrs:{update:t.choiceQuesionVisible,"question-info":t.questionInfo,"type-value":t.typeValue,"child-question-index":t.childQuestionIndex,"default-parentid-path":t.parentidPath},on:{"update:update":function(e){t.choiceQuesionVisible=e},saved:t.handleTkSaved}})],1),t._v(" "),i("div",{staticClass:"ks-mt20 ks-pl10"},["selectQuestion"!==t.action?i("ks-table-footer",{attrs:{pagination:t.pagination,"table-data":t.tableData,"call-type":"array","select-key":"tkid"},on:{"current-change":t.getList,trigger:t.del}}):i("ks-table-footer",{attrs:{"customize-button":{text:"确定"},pagination:t.pagination,"table-data":t.tableData,"call-type":"array","select-key":"tkid"},on:{"current-change":t.getList,trigger:t.save}})],1)],1)},staticRenderFns:[]};var p=i("C7Lr")(d,u,!1,function(t){i("/PUX")},"data-v-ea42f840",null);e.a=p.exports}});