webpackJsonp([45],{W9Lq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("3cXf"),s=i.n(a),n=i("BXtI"),o={name:"AddActivity",data:function(){return{clicktype:"",loading:!1,addActivityForm:{shortdesc:"",title:"",defaultpic:"",studentcount:0,content:"",begindate:null,enddate:null,address:"",sponsor:"",is_pledge:0,paymodel:1,ticket_info:[],form_field:[],status:0},activityTime:[],tableData:[],editTicketIndex:[],contact:[{field:"realname",name:"姓名",type:"text",placeholder:"报名用户的姓名",content:[],required:"1"},{field:"tel",name:"手机号码",type:"text",placeholder:"报名用户的手机号码",content:[],required:"1"}],currentTime:0,timer:null,ticket_max:""}},computed:{isEditing:function(){return function(t){return this.editTicketIndex.includes(t)}}},watch:{"addActivityForm.title":function(t,e){t.length>30&&(this.addActivityForm.title=e)},"addActivityForm.shortdesc":function(t,e){t.length>45&&(this.addActivityForm.shortdesc=e)},activityTime:function(){if(this.activityTime){var t=this.activityTime.map(function(t){return new Date(t).getTime()});this.addActivityForm.begindate=t[0],this.addActivityForm.enddate=t[1]}}},activated:function(){var t=this;this.loading=!1,this.activityTime=[],this.currentTime=Math.ceil((new Date).getTime()/1e3),this.timer=setInterval(function(){t.currentTime+=1},1e3);var e=this.$route.query.id;e?Object(n.e)({id:e}).then(function(e){t.pageData(e.courseinfo)}):this.addPageData()},deactivated:function(){clearInterval(this.timer)},methods:{openDeposit:function(){var t=this;this.tableData.map(function(e){1==t.addActivityForm.is_pledge&&(e.check="0")})},addTicketHandle:function(t){this.clicktype=t;var e={title:"",placeholder:"免费票",chargetype:"0",price:"1",num:"100",purchase_limit:"1",check:"0",cash_deposit:"10",status:"1",explain:"",order_date_type:"0",order_date:[],effective_date_type:"0",effective_date:[]};1==t&&(e.title="",e.chargetype=1,e.placeholder="付费票"),this.editTicketIndex.push(this.tableData.length),this.tableData.push(e)},openEdit:function(t){this.editTicketIndex.push(t),this.tableData[t].placeholder=this.tableData[t].title,this.tableData[t].title=""},handleChangeNum:function(t){this.tableData[t].purchase_limit>this.tableData[t].num&&(this.tableData[t].purchase_limit=this.tableData[t].num)},deleteTicket:function(t){this.tableData.splice(t,1);var e=this.editTicketIndex.findIndex(function(e){return e==t});this.editTicketIndex.splice(e,1)},editSaveTicket:function(t){!this.tableData[t].title.length>0&&(this.tableData[t].title=this.tableData[t].placeholder);var e=this.editTicketIndex.findIndex(function(e){return e==t});if(0==this.tableData[t].order_date_type){if(!this.activityTime)return void this.$msg("活动时间不能为空");this.tableData[t].order_date=this.activityTime}else if(!this.tableData[t].order_date)return void this.$msg("活动时间不能为空");if(0==this.tableData[t].effective_date_type){if(!this.activityTime)return void this.$msg("活动时间不能为空");this.tableData[t].effective_date=this.activityTime}else if(!this.tableData[t].effective_date)return void this.$msg("活动时间不能为空");if(0!=this.tableData[t].order_date.length){var i=Math.ceil(new Date(this.tableData[t].order_date[0]).getTime()/1e3),a=Math.ceil(new Date(this.tableData[t].order_date[1]).getTime()/1e3);i>this.currentTime&&(this.tableData[t].status=0),i<=this.currentTime&&a>=this.currentTime&&(this.tableData[t].status=1),a<this.currentTime&&(this.tableData[t].status=2),this.tableData[t].title.length<=0?this.$msg("票种名称不能为空"):this.tableData[t].price.length<=0?(this.$msg("价格不能为空"),this.$refs["ticketPrice"+t][0].focus()):this.tableData[t].num.length<=0?(this.$msg("张数不能为空"),this.$refs["ticketNum"+t][0].focus()):this.tableData[t].purchase_limit.length<=0?(this.$msg("限购张数不能为空"),this.$refs["ticketLimit"+t][0].focus()):this.tableData[t].cash_deposit.length<=0?(this.$msg("保证金不能为空"),this.$refs["ticketDeposit"+t][0].focus()):this.editTicketIndex.splice(e,1)}else this.$msg("请选择活动时间")},addInput:function(t){var e={field:"custom"+(this.contact.length-1),name:"",placeholder:"",type:t,content:[],required:"0"};this.contact.push(e)},deleteInput:function(t){this.contact.splice(t,1)},addOption:function(t){var e=this,i=JSON.parse(s()(this.contact));i[t].tempValue=" ",this.contact=i,this.$nextTick(function(){e.$refs["customOption"+t][0].focus()})},confirmOption:function(t){this.contact[t].content.push(this.contact[t].tempValue),delete this.contact[t].tempValue},deleteOption:function(t,e){this.contact[t].content.splice(e,1)},formatTimestamp:function(t){return(new Date).setTime(t)},pageData:function(t){var e=this;this.addActivityForm.title=KS.restr(t.title),this.addActivityForm.defaultpic=t.defaultpic,this.addActivityForm.content=t.content,this.addActivityForm.shortdesc=KS.restr(t.shortdesc),this.activityTime.push(this.formatTimestamp(t.json.setting.begindate)),this.activityTime.push(this.formatTimestamp(t.json.setting.enddate)),this.addActivityForm.studentcount=t.studentcount,this.addActivityForm.address=t.json.setting.address,this.addActivityForm.sponsor=t.json.setting.sponsor,this.addActivityForm.is_pledge=t.json.setting.is_pledge,this.addActivityForm.paymodel=t.json.setting.paymodel,this.tableData=t.json.content.ticket_info,this.ticket_max=t.json.content.ticket_max,this.tableData.forEach(function(t){t.order_date[0]=e.formatTimestamp(t.order_date[0]),t.order_date[1]=e.formatTimestamp(t.order_date[1]),t.effective_date[0]=e.formatTimestamp(t.effective_date[0]),t.effective_date[1]=e.formatTimestamp(t.effective_date[1])}),this.contact=t.json.form,this.addActivityForm.status=t.status,this.loading=!0},addPageData:function(){this.addActivityForm.title="",this.addActivityForm.defaultpic="",this.addActivityForm.content="",this.activityTime=[],this.addActivityForm.address="",this.addActivityForm.sponsor="",this.addActivityForm.is_pledge="0",this.addActivityForm.paymodel="0",this.tableData=[],this.contact=this.contact.slice(0,2),this.addActivityForm.status=0,this.addActivityForm.shortdesc="",this.loading=!0},saveTrainCamp:function(){var t=this;if(this.tableData.forEach(function(e){delete e.placeholder,0==e.order_date_type?(e.order_date[0]=(new Date).valueOf(),e.order_date[1]=t.addActivityForm.enddate):(e.order_date[0]=new Date(e.order_date[0]).getTime(),e.order_date[1]=new Date(e.order_date[1]).getTime()),e.order_date[1]>t.addActivityForm.enddate&&(e.order_date[1]=t.addActivityForm.enddate),0==e.effective_date_type?(e.effective_date[0]=t.addActivityForm.begindate,e.effective_date[1]=t.addActivityForm.enddate):(e.effective_date[0]=new Date(e.effective_date[0]).getTime(),e.effective_date[1]=new Date(e.effective_date[1]).getTime()),e.effective_date[1]>t.addActivityForm.enddate&&(e.effective_date[1]=t.addActivityForm.enddate)}),this.addActivityForm.ticket_info=this.tableData,this.addActivityForm.form_field=this.contact,!this.addActivityForm.title.length>0)this.$msg("活动名称不能为空"),this.$refs.activityTitle.focus();else if(!this.addActivityForm.defaultpic.length>0)this.$msg("活动封面不能为空");else if(!this.addActivityForm.content.length>0)this.$msg("活动详情不能为空");else if(this.addActivityForm.begindate)if(!this.addActivityForm.address.length>0)this.$msg("活动地址不能为空"),this.$refs.activityAddress.focus();else if(!this.addActivityForm.sponsor.length>0)this.$msg("主办方不能为空"),this.$refs.activitySponsor.focus();else if(!this.addActivityForm.ticket_info.length>0)this.$msg("票种信息不能为空");else if(!this.addActivityForm.form_field.length>0)this.$msg("表单内容不能为空");else{for(var e=0;e<this.addActivityForm.form_field.length;e++)if(!this.addActivityForm.form_field[e].name)return this.$msg("自定义表单标题不能为空"),void this.$refs["customFormName"+e][0].focus();var i={title:this.addActivityForm.title,studentcount:this.addActivityForm.studentcount,defaultpic:this.addActivityForm.defaultpic,content:this.addActivityForm.content,status:this.addActivityForm.status,shortdesc:this.addActivityForm.shortdesc,json:{setting:{begindate:this.addActivityForm.begindate,enddate:this.addActivityForm.enddate,address:this.addActivityForm.address,sponsor:this.addActivityForm.sponsor,is_pledge:this.addActivityForm.is_pledge,paymodel:this.addActivityForm.paymodel},content:{ticket_info:this.addActivityForm.ticket_info,ticket_max:this.ticket_max},form:this.addActivityForm.form_field}};this.$route.query.id&&(i.courseid=this.$route.query.id),Object(n.c)(i).then(function(e){"success"==e.result&&(t.$msg("保存成功","success"),t.$router.go(-1))})}else this.$msg("活动时间不能为空"),this.$refs.activityPicker.focus()},cancel:function(){this.$router.go(-1)}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("ks-container",{staticClass:"add-activity"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/activityregist"}}},[t._v("活动报名")]),t._v(" "),i("el-breadcrumb-item",[t._v("编辑活动")])],1),t._v(" "),i("div",{staticClass:"tips"},[t._v("请您遵守国家相关规定，切勿上传低俗色情、暴力恐怖、谣言诈骗、侵权盗版等相关内容，课堂街保有依据国家规定及平台规则进行处理的权利。")]),t._v(" "),i("div",{staticClass:"basic-information"},[i("div",{staticClass:"information__title"},[t._v("基本信息")]),t._v(" "),i("div",{staticClass:"information__box"},[i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          活动名称\n        ")]),t._v(" "),i("el-input",{ref:"activityTitle",model:{value:t.addActivityForm.title,callback:function(e){t.$set(t.addActivityForm,"title",e)},expression:"addActivityForm.title"}},[i("span",{staticClass:"information-row-number",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(t.addActivityForm.title.length)+"/30")])])],1),t._v(" "),i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[t._v("\n          简短描述"),i("span",{staticClass:"shortdesc"},[t._v("(用于微信分享)")])]),t._v(" "),i("el-input",{ref:"activityTitle",model:{value:t.addActivityForm.shortdesc,callback:function(e){t.$set(t.addActivityForm,"shortdesc",e)},expression:"addActivityForm.shortdesc"}},[i("span",{staticClass:"information-row-number",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(t.addActivityForm.shortdesc.length)+"/45")])])],1),t._v(" "),i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          活动封面\n        ")]),t._v(" "),i("div",{staticClass:"basic-information__pic"},[i("ks-image",{staticClass:"ks-image",attrs:{src:t.addActivityForm.defaultpic}}),t._v(" "),i("div",[i("el-button",{attrs:{plain:""},on:{click:function(e){return t.$uploadImages(t.addActivityForm,"defaultpic")}}},[t._v("上传图片")]),t._v(" "),i("div",{staticClass:"advice"},[t._v("建议尺寸750*465px，JPG、PNG格式， 图片小于1M。")])],1)],1)]),t._v(" "),i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          活动详情\n        ")]),t._v(" "),i("div",[i("ks-editor",{attrs:{title:"活动详情","z-index":90,wordCount:!0},model:{value:t.addActivityForm.content,callback:function(e){t.$set(t.addActivityForm,"content",e)},expression:"addActivityForm.content"}})],1)])])]),t._v(" "),i("div",{staticClass:"activity-information"},[i("div",{staticClass:"information__title"},[t._v("活动信息")]),t._v(" "),i("div",{staticClass:"information__box"},[i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          活动时间\n        ")]),t._v(" "),i("el-date-picker",{ref:"activityPicker",attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},model:{value:t.activityTime,callback:function(e){t.activityTime=e},expression:"activityTime"}})],1),t._v(" "),i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          活动地点\n        ")]),t._v(" "),i("el-input",{ref:"activityAddress",attrs:{placeholder:""},model:{value:t.addActivityForm.address,callback:function(e){t.$set(t.addActivityForm,"address",e)},expression:"addActivityForm.address"}})],1),t._v(" "),i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[i("span",{staticClass:"information__star"},[t._v("*")]),t._v("\n          主办方\n        ")]),t._v(" "),i("el-input",{ref:"activitySponsor",attrs:{placeholder:""},model:{value:t.addActivityForm.sponsor,callback:function(e){t.$set(t.addActivityForm,"sponsor",e)},expression:"addActivityForm.sponsor"}})],1)])]),t._v(" "),i("div",{staticClass:"enroll-set"},[i("div",{staticClass:"information__title"},[t._v("报名设置")]),t._v(" "),i("div",{staticClass:"information__box"},[i("div",{staticClass:"information__row"},[i("span",{staticClass:"deposit"},[t._v("是否开启保证金\n          "),i("el-popover",{attrs:{placement:"top",width:"100",trigger:"click",content:"开启保证金后 , 保证金如需退款 , 请在线下完成退款"}},[i("i",{staticClass:"iconfont icon-yiwen",attrs:{slot:"reference"},slot:"reference"})])],1),t._v(" "),i("el-radio-group",{on:{change:t.openDeposit},model:{value:t.addActivityForm.is_pledge,callback:function(e){t.$set(t.addActivityForm,"is_pledge",e)},expression:"addActivityForm.is_pledge"}},[i("el-radio",{attrs:{label:"0"}},[t._v("关闭")]),t._v(" "),i("el-radio",{attrs:{label:"1"}},[t._v("开启")])],1)],1),t._v(" "),0!=t.addActivityForm.is_pledge?i("div",{staticClass:"information__row"},[i("span",{staticClass:"deposit"},[t._v("\n          保证金付款方式\n          "),i("i",{staticClass:"iconfont icon-yiwen"})]),t._v(" "),i("el-radio-group",{model:{value:t.addActivityForm.paymodel,callback:function(e){t.$set(t.addActivityForm,"paymodel",e)},expression:"addActivityForm.paymodel"}},[i("el-radio",{attrs:{label:"1"}},[t._v("可以只付保证金")]),t._v(" "),i("el-radio",{attrs:{label:"0"}},[t._v("只允许一起付")])],1)],1):t._e(),t._v(" "),i("div",{staticClass:"information__row"},[i("div",{staticClass:"enroll-set-box"},[i("el-row",{staticClass:"enroll-set-box__header"},[i("el-col",{attrs:{span:3}},[t._v("票种名称")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("价格 ( 元 )")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("张数")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("限购")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("审核设置")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("保证金 ( 元 )")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("状态")]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("操作")])],1),t._v(" "),t._l(t.tableData,function(e,a){return i("el-row",{key:a},[t.isEditing(a)?i("el-row",{staticClass:"enroll-set-box__add-row"},[i("el-row",[i("el-col",{attrs:{span:3}},[i("el-input",{staticClass:"add-ticket__input",attrs:{placeholder:e.placeholder},model:{value:e.title,callback:function(i){t.$set(e,"title",i)},expression:"item.title"}})],1),t._v(" "),0==e.chargetype?i("el-col",{attrs:{span:3}},[t._v("免费")]):i("el-col",{attrs:{span:3}},[i("ks-input-number",{ref:"ticketPrice"+a,refInFor:!0,staticClass:"add-ticket__input",attrs:{min:.01,decimalPlaces:2},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"item.price"}})],1),t._v(" "),i("el-col",{attrs:{span:3}},[i("ks-input-number",{ref:"ticketNum"+a,refInFor:!0,staticClass:"add-ticket__input",attrs:{min:1},on:{change:function(e){return t.handleChangeNum(a)}},model:{value:e.num,callback:function(i){t.$set(e,"num",i)},expression:"item.num"}})],1),t._v(" "),i("el-col",{attrs:{span:3}},[i("ks-input-number",{ref:"ticketLimit"+a,refInFor:!0,staticClass:"add-ticket__input",attrs:{min:1,max:+e.num},model:{value:e.purchase_limit,callback:function(i){t.$set(e,"purchase_limit",i)},expression:"item.purchase_limit"}})],1),t._v(" "),i("el-col",{attrs:{span:3}},[i("el-select",{staticClass:"add-ticket__input",model:{value:e.check,callback:function(i){t.$set(e,"check",i)},expression:"item.check"}},[i("el-option",{attrs:{value:"0",label:"不需要审核"}}),t._v(" "),1==t.addActivityForm.is_pledge||t.clicktype?t._e():i("el-option",{attrs:{value:"1",label:"需要审核"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:3}},[0==t.addActivityForm.is_pledge?i("span",[t._v("--")]):i("ks-input-number",{ref:"ticketDeposit"+a,refInFor:!0,staticClass:"add-ticket__input",attrs:{decimalPlaces:2,min:.01},model:{value:e.cash_deposit,callback:function(i){t.$set(e,"cash_deposit",i)},expression:"item.cash_deposit"}})],1),t._v(" "),i("el-col",{attrs:{span:3}},[t._v("--")]),t._v(" "),i("el-col",{staticClass:"operation-icon",attrs:{span:3}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"保存",placement:"bottom"}},[i("i",{staticClass:"iconfont icon-success",on:{click:function(e){return t.editSaveTicket(a)}}})]),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[i("i",{staticClass:"iconfont icon-shanchu1",on:{click:function(e){return t.deleteTicket(a)}}})])],1)],1),t._v(" "),i("el-row",{staticClass:"add-ticket-textarea"},[i("el-col",{staticClass:"title",attrs:{span:2}},[t._v("票种说明")]),t._v(" "),i("el-input",{attrs:{type:"textarea"},model:{value:e.explain,callback:function(i){t.$set(e,"explain",i)},expression:"item.explain"}})],1),t._v(" "),i("el-row",{staticClass:"add-ticket-textarea"},[i("el-col",{staticClass:"title",attrs:{span:2}},[t._v("订购日期")]),t._v(" "),i("el-radio-group",{model:{value:e.order_date_type,callback:function(i){t.$set(e,"order_date_type",i)},expression:"item.order_date_type"}},[i("el-radio",{attrs:{label:"0"}},[t._v("默认为活动发布后至活动结束前")]),t._v(" "),i("el-radio",{attrs:{label:"1"}},[t._v("自定义")])],1)],1),t._v(" "),1==e.order_date_type?i("el-row",{staticClass:"add-ticket-textarea"},[i("el-col",{staticClass:"title",attrs:{span:2}}),t._v(" "),i("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},model:{value:e.order_date,callback:function(i){t.$set(e,"order_date",i)},expression:"item.order_date"}})],1):t._e(),t._v(" "),i("el-row",{staticClass:"add-ticket-textarea"},[i("el-col",{staticClass:"title",attrs:{span:2}},[t._v("有效日期")]),t._v(" "),i("el-radio-group",{model:{value:e.effective_date_type,callback:function(i){t.$set(e,"effective_date_type",i)},expression:"item.effective_date_type"}},[i("el-radio",{attrs:{label:"0"}},[t._v("默认为活动发布后至活动结束前")]),t._v(" "),i("el-radio",{attrs:{label:"1"}},[t._v("自定义")])],1)],1),t._v(" "),1==e.effective_date_type?i("el-row",{staticClass:"add-ticket-textarea"},[i("el-col",{staticClass:"title",attrs:{span:2}}),t._v(" "),i("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},model:{value:e.effective_date,callback:function(i){t.$set(e,"effective_date",i)},expression:"item.effective_date"}})],1):t._e()],1):i("el-row",{staticClass:"enroll-set-box__row"},[i("el-col",{staticClass:"activity__title",attrs:{span:3}},[t._v(t._s(e.title))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(0==e.chargetype?"免费":e.price))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(e.num))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(e.purchase_limit))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(1==e.check?"需要审核":"不需要审核"))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(0==t.addActivityForm.is_pledge?"--":e.cash_deposit))]),t._v(" "),i("el-col",{attrs:{span:3}},[t._v(t._s(0==e.status?"暂未开始":1==e.status?"发售中":"停止发售"))]),t._v(" "),i("el-col",{staticClass:"operation-icon",attrs:{span:3}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑",placement:"bottom"}},[i("i",{staticClass:"iconfont icon-bianji",on:{click:function(e){return t.openEdit(a)}}})]),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[i("i",{staticClass:"iconfont icon-shanchu1",on:{click:function(e){return t.deleteTicket(a)}}})])],1)],1)],1)}),t._v(" "),i("el-row",{staticClass:"enroll-set-box__add-ticket"},[i("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(e){return t.addTicketHandle(0)}}},[t._v("添加免费票")]),t._v(" "),i("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(e){return t.addTicketHandle(1)}}},[t._v("添加付费票")])],1)],2),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[t._v("\n          作弊人数  \n          "),i("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",maxlength:"6","show-word-limit":""},model:{value:t.addActivityForm.studentcount,callback:function(e){t.$set(t.addActivityForm,"studentcount",e)},expression:"addActivityForm.studentcount"}})],1)])])]),t._v(" "),i("div",{staticClass:"registration-from-set"},[i("div",{staticClass:"information__title"},[t._v("报名表单设置")]),t._v(" "),i("div",{staticClass:"information__box"},[i("div",{staticClass:"information__row"},[i("span",{staticClass:"information__name"},[t._v("联系方式(报名用户资料 , 必填)")]),t._v(" "),t._l(t.contact,function(e,a){return i("div",{key:a},[a<2?i("el-row",{staticClass:"form-set__row"},[i("el-col",{attrs:{span:2}},[i("el-checkbox",{attrs:{disabled:"","true-label":"1","false-label":"0"},model:{value:e.required,callback:function(i){t.$set(e,"required",i)},expression:"item.required"}},[t._v("必填")])],1),t._v(" "),i("el-col",{staticClass:"name",attrs:{span:2}},[t._v(t._s(e.name))]),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{placeholder:"报名用户的"+e.name,size:"small",disabled:""}})],1)],1):t._e(),t._v(" "),1==a?i("el-row",[i("span",{staticClass:"information__name"},[t._v("自定义表单")])]):t._e(),t._v(" "),a>=2?i("el-row",{staticClass:"form-set__row"},[i("el-col",{attrs:{span:2}},[i("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.required,callback:function(i){t.$set(e,"required",i)},expression:"item.required"}},[t._v("必填")])],1),t._v(" "),i("el-col",{staticClass:"name",attrs:{span:2}},[i("el-input",{ref:"customFormName"+a,refInFor:!0,attrs:{placeholder:"text"==e.type?"单行文本":"textarea"==e.type?"多行文本":"radio"==e.type?"单选":"多选",size:"small"},model:{value:e.name,callback:function(i){t.$set(e,"name",i)},expression:"item.name"}})],1),t._v(" "),"text"==e.type||"textarea"==e.type?i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{placeholder:"填写提示信息",size:"small"},model:{value:e.placeholder,callback:function(i){t.$set(e,"placeholder",i)},expression:"item.placeholder"}})],1):t._e(),t._v(" "),t._l(e.content,function(e,s){return i("el-col",{key:s,staticClass:"custom mr10 custom-option",attrs:{span:2}},[t._v("\n                "+t._s(e)+"\n                "),i("i",{staticClass:"iconfont icon-icons-",on:{click:function(e){return t.deleteOption(a,s)}}})])}),t._v(" "),e.tempValue&&e.tempValue.length>=0?i("el-col",{staticClass:"mr10",attrs:{span:2}},[i("el-input",{ref:"customOption"+a,refInFor:!0,attrs:{size:"small"},on:{blur:function(e){return t.confirmOption(a)}},model:{value:e.tempValue,callback:function(i){t.$set(e,"tempValue",i)},expression:"item.tempValue"}})],1):t._e(),t._v(" "),"radio"==e.type||"checkbox"==e.type?i("el-col",{attrs:{span:2}},[i("el-button",{attrs:{primary:"",size:"small"},on:{click:function(e){return t.addOption(a)}}},[t._v("添加选项")])],1):t._e(),t._v(" "),i("el-col",{staticClass:"delete-icon",attrs:{span:2}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom"}},[i("i",{staticClass:"iconfont icon-shanchu1",on:{click:function(e){return t.deleteInput(a)}}})])],1)],2):t._e()],1)}),t._v(" "),i("el-row",{staticClass:"add-input"},[i("el-button",{attrs:{primary:"",size:"small"},on:{click:function(e){return t.addInput("text")}}},[t._v("添加单行文本框")]),t._v(" "),i("el-button",{attrs:{primary:"",size:"small"},on:{click:function(e){return t.addInput("textarea")}}},[t._v("添加多行文本框")]),t._v(" "),i("el-button",{attrs:{primary:"",size:"small"},on:{click:function(e){return t.addInput("radio")}}},[t._v("添加单选")]),t._v(" "),i("el-button",{attrs:{primary:"",size:"small"},on:{click:function(e){return t.addInput("checkbox")}}},[t._v("添加多选")])],1)],2)])]),t._v(" "),i("div",{staticClass:"publish-set"},[i("div",{staticClass:"information__title"},[t._v("发布设置")]),t._v(" "),i("div",{staticClass:"publish-set__row"},[i("div",{staticClass:"information__row"},[i("el-col",{attrs:{span:2}},[t._v("是否发布")]),t._v(" "),i("el-col",{attrs:{span:2}},[i("el-switch",{attrs:{"active-value":"2","inactive-value":"0","active-color":"#13ce66"},model:{value:t.addActivityForm.status,callback:function(e){t.$set(t.addActivityForm,"status",e)},expression:"addActivityForm.status"}})],1)],1)])]),t._v(" "),i("div",{staticClass:"add-activity-footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveTrainCamp}},[t._v("保存返回")]),t._v(" "),i("el-button",{attrs:{plain:"",size:"small"},on:{click:t.cancel}},[t._v("取消")])],1)],1):t._e()},staticRenderFns:[]};var l=i("C7Lr")(o,c,!1,function(t){i("jTSx")},"data-v-32d8706e",null);e.default=l.exports},jTSx:function(t,e){}});